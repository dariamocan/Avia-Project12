{"version":3,"file":"index.js","sources":["../src/functions/image-processing.ts","../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/components/Tab/Tab.tsx","../src/components/Input/Input.tsx","../src/components/BasicFilters/BasicFilter.tsx","../src/functions/croppr/polyfills.ts","../src/functions/croppr/handle.ts","../src/functions/croppr/box.ts","../src/functions/croppr/touch.ts","../src/functions/croppr/core.ts","../src/functions/croppr/croppr.ts","../src/components/CropprWrapper/CropprWrapper.tsx","../src/components/EditImage/EditImage.tsx","../src/index.tsx"],"sourcesContent":["import { IState } from '../models/index.models';\n\nexport const MAX_BUFFER_UNDO_MEMORY = 25;\nlet rotate = 1;\n\nexport const convertImageUsingCanvas = (\n  dataSrc: string,\n  changeHeight = false,\n  state: IState,\n  options?: { getDimFromImage?: boolean; rotate?: number },\n): Promise<{ imageUri: string; state: any }> => {\n  return new Promise(async (resolve, _) => {\n    let img = document.createElement('img');\n    img.src = dataSrc + '';\n    img.crossOrigin = 'Anonymous';\n    let quality = state.quality / 100;\n    let maintainRatio = state.maintainAspectRatio;\n\n    img.onload = () => {\n      var canvas = document.createElement('canvas');\n      let ctx: CanvasRenderingContext2D | null | any = canvas.getContext('2d');\n      let ratio = img.width / img.height;\n      let width = state.maxWidth;\n      let height = state.maxHeight;\n\n      if (options?.getDimFromImage) {\n        width = img.width;\n        height = img.height;\n      }\n\n      if (maintainRatio) {\n        canvas.width = width;\n        canvas.height = width / ratio;\n        if (changeHeight) {\n          canvas.width = height * ratio;\n          canvas.height = height;\n        }\n      } else {\n        canvas.width = width;\n        canvas.height = height;\n      }\n      if (state.basicFilters) {\n        ctx.filter = processFilter(state.basicFilters);\n      }\n      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n      let type = state.format;\n      var dataURI = canvas.toDataURL(`image/${type}`, quality);\n      // console.log(\"ðŸš€ ~ file: image-processing.ts ~ line 48 ~ returnnewPromise ~ quality\", quality)\n      resolve({\n        dataUri: dataURI,\n        width: canvas.width,\n        height: canvas.height,\n      });\n    };\n  }).then((data: any) => {\n    state.maxHeight = data.height;\n    state.maxWidth = data.width;\n    return { imageUri: data.dataUri, state: saveState(state, data.dataUri) };\n  });\n\n  function processFilter(data: any) {\n    return Object.keys(data)\n      .map((key) => {\n        if (['blur'].includes(key)) {\n          return `${key}(${data[key]}px)`;\n        } else {\n          return `${key}(${data[key]})`;\n        }\n      })\n      .join('');\n  }\n};\n\nexport const dragElement = (element: any) => {\n  var pos1 = 0,\n    pos2 = 0,\n    pos3 = 0,\n    pos4 = 0;\n  if (document.getElementById(element.id + '-header')) {\n    /* if present, the header is where you move the DIV from:*/\n    let x: any = document.getElementById(element.id + '-header');\n    x.onmousedown = dragPressOn;\n    let y: any = document.getElementById(element.id + '-header');\n    y.ontouchstart = dragPressOn;\n  } else {\n    /* otherwise, move the DIV from anywhere inside the DIV:*/\n    element.ontouchstart = dragPressOn;\n    element.onmousedown = dragPressOn;\n  }\n\n  function dragPressOn(e: any) {\n    let popup: any = document.querySelector('#popup');\n    popup.style.overflowY = 'hidden';\n    e = e || window.event;\n    pos3 = e.clientX;\n    pos4 = e.clientY;\n    document.ontouchend = closeDragElement;\n    document.onmouseup = closeDragElement;\n    document.ontouchmove = elementDragTouch;\n    document.onmousemove = elementDragMouse;\n  }\n\n  function elementDragMouse(e: any) {\n    let holderImage = document.getElementById('image-full');\n    e = e || window.event;\n    pos1 = pos3 - e.clientX;\n    pos3 = e.clientX;\n    pos2 = pos4 - e.clientY;\n    pos4 = e.clientY;\n\n    let newTop = element.offsetTop - pos2;\n    let newLeft = element.offsetLeft - pos1;\n    let rectHolder = holderImage?.getBoundingClientRect();\n    let rectElemnt = element.getBoundingClientRect();\n    // console.log('====================================');\n    // console.log(rectElemnt,rectHolder);\n    // console.log('====================================');\n    newTop = Math.max(newTop, rectHolder?.top as number);\n    newTop = Math.min(\n      newTop,\n      (rectHolder?.bottom as number) - rectElemnt.height,\n    );\n    newLeft = Math.max(newLeft, rectHolder?.left as number);\n    newLeft = Math.min(\n      newLeft,\n      (rectHolder?.right as number) - rectElemnt.width,\n    );\n    element.style.top = newTop + 'px';\n    element.style.left = newLeft + 'px';\n  }\n\n  function elementDragTouch(e: any) {\n    let holderImage = document.getElementById('image-full');\n    e = e || window.event;\n\n    if (e?.changedTouches?.length) {\n      pos1 = pos3 - e.changedTouches[0]?.clientX;\n      pos3 = e.changedTouches[0]?.clientX;\n    }\n    if (e?.changedTouches?.length) {\n      pos2 = pos4 - e.changedTouches[0]?.clientY;\n      pos4 = e.changedTouches[0]?.clientY;\n    }\n\n    let newTop = element.offsetTop - pos2;\n    let newLeft = element.offsetLeft - pos1;\n    let rectHolder = holderImage?.getBoundingClientRect();\n    let rectElemnt = element.getBoundingClientRect();\n\n    // console.log('====================================');\n    // console.log(rectElemnt,rectHolder);\n    // console.log('====================================');\n\n    newTop = Math.max(newTop, rectHolder?.top as number);\n    newTop = Math.min(\n      newTop,\n      (rectHolder?.bottom as number) - rectElemnt.height,\n    );\n    newLeft = Math.max(newLeft, rectHolder?.left as number);\n    newLeft = Math.min(\n      newLeft,\n      (rectHolder?.right as number) - rectElemnt.width,\n    );\n    element.style.top = newTop + 'px';\n    element.style.left = newLeft + 'px';\n  }\n\n  function closeDragElement() {\n    /* stop moving when mouse button is released:*/\n    let popup: any = document.querySelector('#popup');\n    popup.style.overflowY = 'auto';\n    document.onmouseup = null;\n    document.onmousemove = null;\n    document.ontouchend = null;\n    document.ontouchmove = null;\n  }\n};\n\nexport const saveState = (state: IState, lastImage?: string): IState => {\n  if (state.arrayCopiedImages.length <= MAX_BUFFER_UNDO_MEMORY) {\n    state.arrayCopiedImages.push({\n      lastImage: lastImage as any,\n      width: state.maxWidth,\n      height: state.maxHeight,\n      quality: state.quality,\n      format: state.format,\n      originImageSrc: state.originImageSrc as any,\n      basicFilters: state.basicFilters,\n    });\n  } else {\n    state.arrayCopiedImages[state.arrayCopiedImages.length - 1] = {\n      lastImage: lastImage as any,\n      width: state.maxWidth,\n      height: state.maxHeight,\n      quality: state.quality,\n      format: state.format,\n      originImageSrc: state.originImageSrc as any,\n      basicFilters: state.basicFilters,\n    };\n  }\n  return JSON.parse(JSON.stringify(state));\n};\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { memo, ReactNode, useEffect, useState } from \"react\"\nimport './styles.scss'\nimport { useRef } from 'react';\n\nexport interface TabContainerProp {\n  children: Array<{ props: any }> | { props: any };\n  activeIndex?: number;\n  backgroundColor?: string;\n  color?: string;\n  indicatorStyle?: 'simple' | 'bottomLine' | 'button'\n  onTabChange?: Function,\n  lazy?: boolean;\n  transitionMs?: number;\n  borderLine?: boolean;\n  fontColor?: string;\n}\n\ninterface TabHeader {\n  label: string;\n  icon?: JSX.Element | string | null | undefined;\n  disabled?: boolean\n}\n\nconst TabContainer = memo(({\n  activeIndex = 0,\n  children,\n  backgroundColor = 'inherit',\n  color = '#428CFF',\n  indicatorStyle = 'bottomLine',\n  onTabChange = (index: number) => { },\n  transitionMs = 375,\n  borderLine = false,\n  fontColor = 'inherit',\n  lazy = false }:\n  TabContainerProp) => {\n\n  const [header, setHeader] = useState<Array<TabHeader>>([]);\n  const [activeTab, setActiveTab] = useState(activeIndex);\n  const tabContainerRef = useRef(null)\n\n  useEffect(() => {\n    const tabsItems = children instanceof Array ? children : [children];\n    checkChildrens(tabsItems);\n    const tabs = tabsItems.map(el => ({ label: el.props.name, icon: el.props.icon, disabled: el.props.disabled }))\n    if (activeIndex > tabs.length - 1 || activeIndex < 0)\n      throw new Error(`Invalid range for activeIndex ${activeIndex}`);\n    setHeader(tabs);\n  }, [children])\n\n  useEffect(() => {\n    const tabsItems = children instanceof Array ? children : [children];\n    if (activeIndex > tabsItems.length - 1 || activeIndex < 0)\n      throw new Error(`Invalid range for activeIndex ${activeIndex}`);\n    setActiveTab(tabsItems[activeIndex]?.props?.disabled ? 0 : activeIndex);\n  }, [activeIndex])\n\n  useEffect(() => {\n    if (header && header.length) {\n      onTabChange(activeTab);\n    }\n  }, [activeTab])\n\n  function checkChildrens(data: any[]) {\n    try {\n      data.map((el: any) => {\n        if (!el.props.name)\n          throw new Error('Inside of TabContainer component only can be rendered TabItem component, and its need a name prop')\n        return true;\n      })\n    } catch (e) {\n      throw new Error(\"The TabContainer Component must has a TabItem as child component\");\n    }\n\n  }\n\n  const tabsItems = children instanceof Array ? children : [children];\n\n  return <div ref={tabContainerRef} className=\"tab-pp\">\n    <div className=\"header\" style={{ backgroundColor: backgroundColor, borderBottom: borderLine ? '1px solid #323232' : 'undet' }}>\n      {header.map((el, index) => (\n        <button onClick={() => {\n          if (el.disabled) return;\n          setActiveTab(index)\n        }} key={el.label}\n          style={{\n            color: index == activeTab && (indicatorStyle === 'simple' || indicatorStyle === 'bottomLine') ? color : fontColor,\n            backgroundColor: index == activeTab && (indicatorStyle === 'button') ? color : 'inherit',\n          }}\n          className={index == activeTab ? `itemlabel ${indicatorStyle} active` : 'itemlabel'}\n          disabled={el.disabled}\n        >\n          {el.icon} {el.label}\n          {indicatorStyle === 'bottomLine' && (<div style={{ backgroundColor: color }}></div>)}\n        </button>\n      ))}\n    </div>\n    <div className=\"body\">\n      {tabsItems.map((tabEl, index) => {\n        if (index < activeTab) {\n          return (<div style={{\n            transform: 'translate3d(-100%, 0px, 0px)',\n            height: '0px',\n            overflow: 'hidden',\n            transition: `transform ${transitionMs / 1000}s ease`\n          }} key={index} className={'body-content'}>\n            {!lazy && tabEl}\n          </div>)\n        }\n        if (index > activeTab) {\n          return (<div style={{\n            transform: 'translate3d(100%, 0px, 0px)',\n            height: '0px',\n            overflow: 'hidden',\n            transition: `transform ${transitionMs / 1000}s ease`\n          }} key={index} className={'body-content'}>\n            {!lazy && tabEl}\n          </div>)\n        }\n        else {\n          return (<div style={{\n            visibility: 'inherit',\n            overflow: 'auto',\n            height: 'auto',\n            position: 'relative',\n            transition: `transform ${transitionMs / 1000}s ease`\n          }} key={index} className={'body-content'}>\n            {tabEl}\n          </div>)\n        }\n      })}\n\n    </div>\n\n  </div>\n})\n\nexport const TabItem = memo(({ name, children, icon = null, type = 'TabItem', disabled = false }:\n  {\n    name: string;\n    children: ReactNode, icon?: JSX.Element | string | null | undefined;\n    disabled?: boolean\n    type?: string\n  }) => {\n  return <div style={{ padding: '1rem 0.5rem' }}>\n    {children}\n  </div>\n})\n\nexport default TabContainer\n","import React, { memo, useRef } from 'react'\nimport { useState, useEffect } from 'react';\n\ninterface InputProps extends React.InputHTMLAttributes<any> {\n  onInputChangedEnd?: Function\n  onChangedDelayed?: Function\n  onChangedValue?: Function\n  delayMs?: number\n}\n\nconst Input = memo((props: React.InputHTMLAttributes<any> | InputProps) => {\n\n  const { onInputChangedEnd, onChangedDelayed, onChangedValue, delayMs, ...restProps } = props as any;\n  const [state, setState] = useState<any>(props.value);\n  const timerRef = useRef<any>();\n  const mountRef = useRef<boolean>(true);\n  const flagRef = useRef<boolean>(false);\n\n  // useEffect(() => {\n  //   if (['checkbox', 'radio'].includes(props.type as string)) {\n  //     setState(props.checked);\n  //   } else {\n  //     setState(props.value);\n  //     console.log(\"Here in the prop\")\n  //   }\n  // }, [props.value])\n\n  useEffect(() => {\n    if (!onChangedDelayed) return;\n    if (mountRef.current) {\n      mountRef.current = false;\n      return;\n    }\n\n    if (flagRef.current) {\n      return;\n    }\n    timerRef.current = setTimeout(() => {\n      flagRef.current = true;\n      clearTimeout(timerRef.current);\n      onChangedDelayed(state);\n      flagRef.current = false;\n    }, delayMs || 100)\n\n    return () => {\n      clearTimeout(timerRef.current);\n    }\n\n  }, [state])\n\n  function changeValue(e: any) {\n    if (['checkbox', 'radio'].includes(props.type as string)) {\n      setState(e.target.checked)\n      onChangedValue && onChangedValue(e.target.checked);\n\n    } else {\n      setState(e.target.value)\n      onChangedValue && onChangedValue(e.target.value);\n    }\n  }\n\n  return (\n    <React.Fragment>\n      {\n        onInputChangedEnd && <input {...restProps} className={restProps?.className} style={restProps.style}\n          value={props.value}\n          onChange={changeValue}\n          onBlur={(e) => { onInputChangedEnd(e.target.value) }}\n          onKeyDown={(e) => {\n            if (e.key == 'Enter') onInputChangedEnd(state)\n          }}\n        />\n      }\n      {\n        !onInputChangedEnd && <input {...restProps} className={restProps?.className} style={restProps.style}\n          value={props.value}\n          onChange={changeValue}\n        />\n      }\n    </React.Fragment>)\n})\n\nexport default Input\n","\nimport React, { memo, useEffect, useState } from 'react'\nimport { IBasicFilterState } from '../../models/index.models';\nimport Input from '../Input/Input';\n\nexport interface BasicFilterProps {\n  labels: any;\n  color: string;\n  initialState: IBasicFilterState | undefined | null,\n  changeFilter: Function\n}\nconst _initialState: IBasicFilterState = {\n  contrast: 1,\n  blur: 0,\n  brightness: 1,\n  grayscale: 0,\n  invert: 0,\n  saturate: 1,\n  sepia: 0,\n}\n\n\nconst BasicFilter = memo(({ labels, color, initialState = _initialState, changeFilter = () => { } }: BasicFilterProps) => {\n  const [state, setState] = useState<IBasicFilterState>(initialState as any)\n\n  useEffect(() => {\n    if (initialState) {\n      setState(JSON.parse(JSON.stringify({ ...state, ...initialState })));\n    } else {\n      setState(_initialState)\n    }\n  }, [initialState])\n\n  function onUpdateContrast(contrast: number) {\n    changeFilter({ ...state, contrast })\n  }\n\n  function onUpdateBrightness(brightness: number) {\n    changeFilter({ ...state, brightness })\n  }\n\n  function onUpdateGrayscale(grayscale: number) {\n    changeFilter({ ...state, grayscale })\n  }\n  function onUpdateSaturate(saturate: number) {\n    changeFilter({ ...state, saturate })\n  }\n  function onUpdateSepia(sepia: number) {\n    changeFilter({ ...state, sepia })\n  }\n  function onUpdateBlur(blur: number) {\n    changeFilter({ ...state, blur })\n  }\n\n  return <div>\n    <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>\n      <p className=\"item-panel\">{labels['Contrast']}</p>\n      <p className=\"item-panel\">{(+state.contrast).toFixed(2)}</p>\n    </div>\n\n    <div className='flex-row-start'>\n      <Input\n        className=\"input-range\"\n        onChangedDelayed={onUpdateContrast}\n        onChangedValue={(value: number) => { setState({ ...state, contrast: value }) }}\n        style={{\n          maxWidth: '100%', width: '100%', color: color\n        }}\n        type=\"range\"\n        min=\"0\"\n        max=\"5\"\n        step=\"0.01\"\n        value={state.contrast} />\n    </div>\n\n    <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>\n      <p className=\"item-panel\">{labels['Brightness']}</p>\n      <p className=\"item-panel\">{(+state.brightness).toFixed(2)}</p>\n    </div>\n\n    <div className='flex-row-start'>\n      <Input\n        className=\"input-range\"\n        onChangedDelayed={onUpdateBrightness}\n        onChangedValue={(value: number) => { setState({ ...state, brightness: value }) }}\n        style={{\n          maxWidth: '100%', width: '100%', color: color\n        }}\n        type=\"range\"\n        min=\"0\"\n        max=\"5\"\n        step=\"0.01\"\n        value={state.brightness} />\n    </div>\n\n    <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>\n      <p className=\"item-panel\">{labels['Grayscale']}</p>\n      <p className=\"item-panel\">{(+state.grayscale).toFixed(2)}</p>\n    </div>\n\n    <div className='flex-row-start'>\n      <Input\n        className=\"input-range\"\n        onChangedDelayed={onUpdateGrayscale}\n        onChangedValue={(value: number) => { setState({ ...state, grayscale: value }) }}\n        style={{\n          maxWidth: '100%', width: '100%', color: color\n        }}\n        type=\"range\"\n        min=\"0\"\n        max=\"5\"\n        step=\"0.01\"\n        value={state.grayscale} />\n    </div>\n    <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>\n      <p className=\"item-panel\">{labels['Saturate']}</p>\n      <p className=\"item-panel\">{(+state.saturate).toFixed(2)}</p>\n    </div>\n\n    <div className='flex-row-start'>\n      <Input\n        className=\"input-range\"\n        onChangedDelayed={onUpdateSaturate}\n        onChangedValue={(value: number) => { setState({ ...state, saturate: value }) }}\n        style={{\n          maxWidth: '100%', width: '100%', color: color\n        }}\n        type=\"range\"\n        min=\"0\"\n        max=\"5\"\n        step=\"0.01\"\n        value={state.saturate} />\n    </div>\n\n    <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>\n      <p className=\"item-panel\">{labels['Sepia']}</p>\n      <p className=\"item-panel\">{(+state.sepia).toFixed(2)}</p>\n    </div>\n\n    <div className='flex-row-start'>\n      <Input\n        className=\"input-range\"\n        onChangedDelayed={onUpdateSepia}\n        onChangedValue={(value: number) => { setState({ ...state, sepia: value }) }}\n        style={{\n          maxWidth: '100%', width: '100%', color: color\n        }}\n        type=\"range\"\n        min=\"0\"\n        max=\"5\"\n        step=\"0.01\"\n        value={state.sepia} />\n    </div>\n\n    <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>\n      <p className=\"item-panel\">{labels['Blur']}</p>\n      <p className=\"item-panel\">{(+state.blur).toFixed(2)}</p>\n    </div>\n\n    <div className='flex-row-start'>\n      <Input\n        className=\"input-range\"\n        onChangedDelayed={onUpdateBlur}\n        onChangedValue={(value: number) => { setState({ ...state, blur: value }) }}\n        style={{\n          maxWidth: '100%', width: '100%', color: color\n        }}\n        type=\"range\"\n        min=\"0\"\n        max=\"5\"\n        step=\"0.01\"\n        value={state.blur} />\n    </div>\n  </div>\n})\n\nexport default BasicFilter\n","/**\n * POLYFILLS\n */\n\n// Request Animation Frame polyfill\n(function () {\n  var lastTime = 0;\n  var vendors = [\"ms\", \"moz\", \"webkit\", \"o\"];\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + \"RequestAnimationFrame\"];\n    window.cancelAnimationFrame =\n      window[vendors[x] + \"CancelAnimationFrame\"] ||\n      window[vendors[x] + \"CancelRequestAnimationFrame\"];\n  }\n\n  if (!window.requestAnimationFrame)\n    window.requestAnimationFrame = function (callback: any, element: any) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(function () {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    } as any;\n\n  if (!window.cancelAnimationFrame)\n    window.cancelAnimationFrame = function (id) {\n      clearTimeout(id);\n    };\n})();\n\n// CustomEvents polyfill\n(function () {\n  if (typeof window.CustomEvent === \"function\") return false;\n\n  function CustomEvent(event: any, params: any) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent(\"CustomEvent\");\n    evt.initCustomEvent(\n      event,\n      params.bubbles,\n      params.cancelable,\n      params.detail\n    );\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent as any;\n})();\n\n// MouseEvents polyfill\n(function (window) {\n  try {\n    new CustomEvent(\"test\");\n    return false; // No need to polyfill\n  } catch (e) {\n    // Need to polyfill - fall through\n  }\n\n  // Polyfills DOM4 CustomEvent\n  function MouseEvent(eventType: any, params: any) {\n    params = params || { bubbles: false, cancelable: false };\n    var mouseEvent = document.createEvent(\"MouseEvent\");\n    mouseEvent.initMouseEvent(\n      eventType,\n      params.bubbles,\n      params.cancelable,\n      window,\n      0,\n      0,\n      0,\n      0,\n      0,\n      false,\n      false,\n      false,\n      false,\n      0,\n      null\n    );\n\n    return mouseEvent;\n  }\n\n  MouseEvent.prototype = Event.prototype;\n\n  window.MouseEvent = MouseEvent as any;\n})(window);\n","/**\n * Handle component\n */\nexport default class Handle {\n  /**\n   * Creates a new Handle instance.\n   * @constructor\n   * @param {Array} position The x and y ratio position of the handle\n   *      within the crop region. Accepts a value between 0 to 1 in the order\n   *      of [X, Y].\n   * @param {Array} constraints Define the side of the crop region that\n   *      is to be affected by this handle. Accepts a value of 0 or 1 in the\n   *      order of [TOP, RIGHT, BOTTOM, LEFT].\n   * @param {String} cursor The CSS cursor of this handle.\n   * @param {Element} eventBus The element to dispatch events to.\n   */\n  position: any;\n  constraints: any;\n  cursor: any;\n  eventBus: any;\n  el: any;\n\n  constructor(position: any, constraints: any, cursor: any, eventBus: any) {\n    var self = this;\n    this.position = position;\n    this.constraints = constraints;\n    this.cursor = cursor;\n    this.eventBus = eventBus;\n\n    // Create DOM element\n    this.el = document.createElement(\"div\");\n    this.el.className = \"croppr-handle\";\n    this.el.style.cursor = cursor;\n\n    // Attach initial listener\n    this.el.addEventListener(\"mousedown\", onMouseDown);\n\n    function onMouseDown(e: any) {\n      e.stopPropagation();\n      document.addEventListener(\"mouseup\", onMouseUp);\n      document.addEventListener(\"mousemove\", onMouseMove);\n\n      // Notify parent\n      self.eventBus.dispatchEvent(\n        new CustomEvent(\"handlestart\", {\n          detail: { handle: self },\n        })\n      );\n    }\n\n    function onMouseUp(e: any) {\n      e.stopPropagation();\n      document.removeEventListener(\"mouseup\", onMouseUp);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n\n      // Notify parent\n      self.eventBus.dispatchEvent(\n        new CustomEvent(\"handleend\", {\n          detail: { handle: self },\n        })\n      );\n    }\n\n    function onMouseMove(e: any) {\n      e.stopPropagation();\n\n      // Notify parent\n      self.eventBus.dispatchEvent(\n        new CustomEvent(\"handlemove\", {\n          detail: { mouseX: e.clientX, mouseY: e.clientY },\n        })\n      );\n    }\n  }\n}\n","/**\n * Box component\n */\nexport default class Box {\n  /**\n   * Creates a new Box instance.\n   * @constructor\n   * @param {Number} x1\n   * @param {Number} y1\n   * @param {Number} x2\n   * @param {Number} y2\n   */\n  x1: any;\n  y1: any;\n  x2: any;\n  y2: any;\n\n  constructor(x1: any, y1: any, x2: any, y2: any) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  /**\n   * Sets the new dimensions of the box.\n   * @param {Number} x1\n   * @param {Number} y1\n   * @param {Number} x2\n   * @param {Number} y2\n   */\n  set(x1 = null, y1 = null, x2 = null, y2 = null) {\n    this.x1 = x1 == null ? this.x1 : x1;\n    this.y1 = y1 == null ? this.y1 : y1;\n    this.x2 = x2 == null ? this.x2 : x2;\n    this.y2 = y2 == null ? this.y2 : y2;\n    return this;\n  }\n\n  /**\n   * Calculates the width of the box.\n   * @returns {Number}\n   */\n  width() {\n    return Math.abs(this.x2 - this.x1);\n  }\n\n  /**\n   * Calculates the height of the box.\n   * @returns {Number}\n   */\n  height() {\n    return Math.abs(this.y2 - this.y1);\n  }\n\n  /**\n   * Resizes the box to a new size.\n   * @param {Number} newWidth\n   * @param {Number} newHeight\n   * @param {Array} [origin] The origin point to resize from.\n   *      Defaults to [0, 0] (top left).\n   */\n  resize(newWidth: any, newHeight: any, origin = [0, 0]) {\n    const fromX = this.x1 + this.width() * origin[0];\n    const fromY = this.y1 + this.height() * origin[1];\n\n\n    this.x1 = fromX - newWidth * origin[0];\n    this.y1 = fromY - newHeight * origin[1];\n    this.x2 = this.x1 + newWidth;\n    this.y2 = this.y1 + newHeight;\n\n    return this;\n  }\n\n  /**\n   * Scale the box by a factor.\n   * @param {Number} factor\n   * @param {Array} [origin] The origin point to resize from.\n   *      Defaults to [0, 0] (top left).\n   */\n  scale(factor: any, origin = [0, 0]) {\n    const newWidth = this.width() * factor;\n    const newHeight = this.height() * factor;\n    this.resize(newWidth, newHeight, origin);\n    return this;\n  }\n\n  /**\n   * Move the box to the specified coordinates.\n   */\n  move(x = null, y = null) {\n    let width = this.width();\n    let height = this.height();\n    x = x === null ? this.x1 : x;\n    y = y === null ? this.y1 : y;\n\n    this.x1 = x;\n    this.y1 = y;\n    this.x2 = (x as any) + width;\n    this.y2 = (y as any) + height;\n    return this;\n  }\n\n  /**\n   * Get relative x and y coordinates of a given point within the box.\n   * @param {Array} point The x and y ratio position within the box.\n   * @returns {Array} The x and y coordinates [x, y].\n   */\n  getRelativePoint(point = [0, 0]) {\n    const x = this.width() * point[0];\n    const y = this.height() * point[1];\n    return [x, y];\n  }\n\n  /**\n   * Get absolute x and y coordinates of a given point within the box.\n   * @param {Array} point The x and y ratio position within the box.\n   * @returns {Array} The x and y coordinates [x, y].\n   */\n  getAbsolutePoint(point = [0, 0]) {\n    const x = this.x1 + this.width() * point[0];\n    const y = this.y1 + this.height() * point[1];\n    return [x, y];\n  }\n\n  /**\n   * Constrain the box to a fixed ratio.\n   * @param {Number} ratio\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   * @param {String} [grow] The axis to grow to maintain the ratio.\n   *     Defaults to 'height'.\n   */\n  constrainToRatio(ratio: any, origin = [0, 0], grow = \"height\") {\n    if (ratio === null) {\n      return;\n    }\n    const width = this.width();\n    const height = this.height();\n    switch (grow) {\n      case \"height\": // Grow height only\n        this.resize(this.width(), this.width() * ratio, origin);\n        break;\n      case \"width\": // Grow width only\n        this.resize((this.height() * 1) / ratio, this.height(), origin);\n        break;\n      default: // Default: Grow height only\n        this.resize(this.width(), this.width() * ratio, origin);\n    }\n\n    return this;\n  }\n\n  /**\n   * Constrain the box within a boundary.\n   * @param {Number} boundaryWidth\n   * @param {Number} boundaryHeight\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   */\n  constrainToBoundary(\n    boundaryWidth: any,\n    boundaryHeight: any,\n    origin = [0, 0]\n  ) {\n    // Calculate the maximum sizes for each direction of growth\n    const [originX, originY] = this.getAbsolutePoint(origin);\n    const maxIfLeft = originX;\n    const maxIfTop = originY;\n    const maxIfRight = boundaryWidth - originX;\n    const maxIfBottom = boundaryHeight - originY;\n\n    // Express the direction of growth in terms of left, both,\n    // and right as -1, 0, and 1 respectively. Ditto for top/both/down.\n    const directionX = -2 * origin[0] + 1;\n    const directionY = -2 * origin[1] + 1;\n\n    // Determine the max size to use according to the direction of growth.\n    let [maxWidth, maxHeight]: [any, any] = [null, null];\n    switch (directionX) {\n      case -1:\n        maxWidth = maxIfLeft;\n        break;\n      case 0:\n        maxWidth = (Math.min(maxIfLeft, maxIfRight) * 2) as any;\n        break;\n      case +1:\n        maxWidth = maxIfRight as any;\n        break;\n    }\n    switch (directionY) {\n      case -1:\n        maxHeight = maxIfTop;\n        break;\n      case 0:\n        maxHeight = (Math.min(maxIfTop, maxIfBottom) * 2) as any;\n        break;\n      case +1:\n        maxHeight = maxIfBottom as any;\n        break;\n    }\n\n    // Resize if the box exceeds the calculated max width/height.\n    if (this.width() > maxWidth) {\n      const factor = maxWidth / this.width();\n      this.scale(factor, origin);\n    }\n    if (this.height() > maxHeight) {\n      const factor = maxHeight / this.height();\n      this.scale(factor, origin);\n    }\n\n    return this;\n  }\n\n  /**\n   * Constrain the box to a maximum/minimum size.\n   * @param {Number} [maxWidth]\n   * @param {Number} [maxHeight]\n   * @param {Number} [minWidth]\n   * @param {Number} [minHeight]\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   * @param {Number} [ratio] Ratio to maintain.\n   */\n  constrainToSize(\n    maxWidth: any = null,\n    maxHeight: any = null,\n    minWidth: any = null,\n    minHeight: any = null,\n    origin = [0, 0],\n    ratio: any = null\n  ) {\n    // Calculate new max/min widths & heights that constrains to the ratio\n    if (ratio) {\n      if (ratio > 1) {\n        maxWidth = (maxHeight * 1) / ratio;\n        minHeight = minHeight * ratio;\n      } else if (ratio < 1) {\n        maxHeight = maxWidth * ratio;\n        minWidth = (minHeight * 1) / ratio;\n      }\n    }\n\n    if (maxWidth && this.width() > maxWidth) {\n      const newWidth = maxWidth,\n        newHeight = ratio === null ? this.height() : maxHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (maxHeight && this.height() > maxHeight) {\n      const newWidth = ratio === null ? this.width() : maxWidth,\n        newHeight = maxHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (minWidth && this.width() < minWidth) {\n      const newWidth = minWidth,\n        newHeight = ratio === null ? this.height() : minHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (minHeight && this.height() < minHeight) {\n      const newWidth = ratio === null ? this.width() : minWidth,\n        newHeight = minHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    return this;\n  }\n}\n","/**\n * Croppr Touch\n * Enables support for touch devices by translating touch events to\n * mouse events.\n */\n\n/**\n * Binds an element's touch events to be simulated as mouse events.\n * @param {Element} element\n */\nexport default function enableTouch(element: any) {\n  element.addEventListener(\"touchstart\", simulateMouseEvent);\n  element.addEventListener(\"touchend\", simulateMouseEvent);\n  element.addEventListener(\"touchmove\", simulateMouseEvent);\n}\n\n/**\n * Translates a touch event to a mouse event.\n * @param {Event} e\n */\nfunction simulateMouseEvent(e: any) {\n  e.preventDefault();\n  const touch = e.changedTouches[0];\n  const eventMap = {\n    touchstart: \"mousedown\",\n    touchmove: \"mousemove\",\n    touchend: \"mouseup\",\n  };\n\n  touch.target.dispatchEvent(\n    new MouseEvent(eventMap[e.type], {\n      bubbles: true,\n      cancelable: true,\n      view: window,\n      clientX: touch.clientX,\n      clientY: touch.clientY,\n      screenX: touch.screenX,\n      screenY: touch.screenY,\n    })\n  );\n}\n","/**\n * CropprCore\n * Here lies the main logic.\n */\n\nimport Handle from \"./handle\";\nimport Box from \"./box\";\nimport enableTouch from \"./touch\";\n\n/**\n * Define a list of handles to create.\n *\n * @property {Array} position - The x and y ratio position of the handle within\n *      the crop region. Accepts a value between 0 to 1 in the order of [X, Y].\n * @property {Array} constraints - Define the side of the crop region that is to\n *      be affected by this handle. Accepts a value of 0 or 1 in the order of\n *      [TOP, RIGHT, BOTTOM, LEFT].\n * @property {String} cursor - The CSS cursor of this handle.\n */\nconst HANDLES = [\n  { position: [0.0, 0.0], constraints: [1, 0, 0, 1], cursor: \"nw-resize\" },\n  { position: [0.5, 0.0], constraints: [1, 0, 0, 0], cursor: \"n-resize\" },\n  { position: [1.0, 0.0], constraints: [1, 1, 0, 0], cursor: \"ne-resize\" },\n  { position: [1.0, 0.5], constraints: [0, 1, 0, 0], cursor: \"e-resize\" },\n  { position: [1.0, 1.0], constraints: [0, 1, 1, 0], cursor: \"se-resize\" },\n  { position: [0.5, 1.0], constraints: [0, 0, 1, 0], cursor: \"s-resize\" },\n  { position: [0.0, 1.0], constraints: [0, 0, 1, 1], cursor: \"sw-resize\" },\n  { position: [0.0, 0.5], constraints: [0, 0, 0, 1], cursor: \"w-resize\" },\n];\n\n/**\n * Core class for Croppr containing most of its functional logic.\n */\nexport default class CropprCore {\n  options: any;\n  _initialized: any;\n  _restore: any;\n  cropperEl: any;\n  box: any;\n  containerEl: any;\n  imageEl: any;\n  eventBus: any;\n  imageClippedEl: any;\n  regionEl: HTMLElement;\n  overlayEl: any;\n  handles: any;\n  activeHandle: any;\n  currentMove: any;\n\n  constructor(element: any, options: any, deferred = false) {\n    // console.log(\"ðŸš€ ~ file: core.ts ~ line 51 ~ CropprCore ~ constructor ~ element\", element)\n    // Parse options\n    this.options = CropprCore.parseOptions(options || {});\n\n    // Get target img element\n    if (!element.nodeName) {\n      element = document.querySelector(element);\n      // console.log(\"ðŸš€ ~ file: core.ts ~ line 58 ~ CropprCore ~ constructor ~ element\", element)\n      if (element == null) {\n        throw \"Unable to find element.\";\n      }\n    }\n    if (!element.getAttribute(\"src\")) {\n      throw \"Image src not provided.\";\n    }\n\n    // Define internal props\n    this._initialized = false;\n    this._restore = {\n      parent: element.parentNode,\n      element: element,\n    };\n\n    // Wait until image is loaded before proceeding\n    if (!deferred) {\n      if (element.width === 0 || element.height === 0) {\n        element.onload = () => {\n          this.initialize(element);\n        };\n      } else {\n        this.initialize(element);\n      }\n    }\n  }\n\n  /**\n   * Initialize the Croppr instance\n   */\n  initialize(element: any) {\n    // Create DOM elements\n    this.createDOM(element);\n\n    // Process option values\n    this.options.convertToPixels(this.cropperEl);\n\n    // Listen for events from children\n    this.attachHandlerEvents();\n    this.attachRegionEvents();\n    this.attachOverlayEvents();\n\n    // Bootstrap this cropper instance\n    this.box = this.initializeBox(this.options);\n    this.redraw();\n\n    // Set the initalized flag to true and call the callback\n    this._initialized = true;\n    if (this.options.onInitialize !== null) {\n      this.options.onInitialize(this);\n    }\n  }\n\n  /**\n   * Create Croppr's DOM elements\n   */\n  createDOM(targetEl: any) {\n    // Create main container and use it as the main event listeners\n    this.containerEl = document.createElement(\"div\");\n    this.containerEl.className = \"croppr-container\";\n    this.eventBus = this.containerEl;\n    enableTouch(this.containerEl);\n\n    // Create cropper element\n    this.cropperEl = document.createElement(\"div\");\n    this.cropperEl.className = \"croppr\";\n\n    // Create image element\n    this.imageEl = document.createElement(\"img\");\n    this.imageEl.setAttribute(\"src\", targetEl.getAttribute(\"src\"));\n    this.imageEl.setAttribute(\"alt\", targetEl.getAttribute(\"alt\"));\n    this.imageEl.className = \"croppr-image\";\n\n    // Create clipped image element\n    this.imageClippedEl = this.imageEl.cloneNode();\n    this.imageClippedEl.className = \"croppr-imageClipped\";\n\n    // Create region box element\n    this.regionEl = document.createElement(\"div\");\n    this.regionEl.innerHTML = new Array(9)\n      .fill(1)\n      .map(() => `<div style=\"border: 1px dashed #fafafa\"></div>`)\n      .join(\"\");\n    this.regionEl.className = \"croppr-region\";\n\n    // Create overlay element\n    this.overlayEl = document.createElement(\"div\");\n    this.overlayEl.className = \"croppr-overlay\";\n\n    // Create handles element\n    let handleContainerEl = document.createElement(\"div\");\n    handleContainerEl.className = \"croppr-handleContainer\";\n    this.handles = [];\n    for (let i = 0; i < HANDLES.length; i++) {\n      const handle = new Handle(\n        HANDLES[i].position,\n        HANDLES[i].constraints,\n        HANDLES[i].cursor,\n        this.eventBus\n      );\n      this.handles.push(handle);\n      handleContainerEl.appendChild(handle.el);\n    }\n\n    // And then we piece it all together!\n    this.cropperEl.appendChild(this.imageEl);\n    this.cropperEl.appendChild(this.imageClippedEl);\n    this.cropperEl.appendChild(this.regionEl);\n    this.cropperEl.appendChild(this.overlayEl);\n    this.cropperEl.appendChild(handleContainerEl);\n    this.containerEl.appendChild(this.cropperEl);\n\n    // And then finally insert it into the document\n    targetEl.parentElement.replaceChild(this.containerEl, targetEl);\n  }\n\n  /**\n   * Changes the image src.\n   * @param {String} src\n   */\n  setImage(src: any) {\n    // Add onload listener to reinitialize box\n    this.imageEl.onload = () => {\n      this.box = this.initializeBox(this.options);\n      this.redraw();\n    };\n\n    // Change image source\n    this.imageEl.src = src;\n    this.imageClippedEl.src = src;\n    return this;\n  }\n\n  /**\n   * Destroy the Croppr instance and replace with the original element.\n   */\n  destroy() {\n    this._restore.parent.replaceChild(this._restore.element, this.containerEl);\n  }\n\n  /**\n   * Create a new box region with a set of options.\n   * @param {Object} opts The options.\n   * @returns {Box}\n   */\n  initializeBox(opts: any) {\n    // Create initial box\n    const width = opts.startSize.width;\n    const height = opts.startSize.height;\n    let box = new Box(0, 0, width, height);\n    // console.log(\"ðŸš€ ~ file: core.ts ~ line 202 ~ CropprCore ~ initializeBox ~ box\", box)\n\n    // Maintain ratio\n    box.constrainToRatio(opts.aspectRatio, [0.5, 0.5]);\n\n    // Maintain minimum/maximum size\n    const min = opts.minSize;\n    const max = opts.maxSize;\n    box.constrainToSize(\n      max.width,\n      max.height,\n      min.width,\n      min.height,\n      [0.5, 0.5],\n      opts.aspectRatio\n    );\n\n    // Constrain to boundary\n    const parentWidth = this.cropperEl.offsetWidth;\n    const parentHeight = this.cropperEl.offsetHeight;\n    box.constrainToBoundary(parentWidth, parentHeight, [0.5, 0.5]);\n\n    // // Move to center\n    const x = this.cropperEl.offsetWidth / 2 - box.width() / 2;\n    const y = this.cropperEl.offsetHeight / 2 - box.height() / 2;\n\n    // console.log(\"ðŸš€ ~ file: core.ts ~ line 219 ~ CropprCore ~ initializeBox ~ this.cropperEl\", this.cropperEl.offsetWidth)\n    // console.log(\"ðŸš€ ~ file: core.ts ~ line 223 ~ CropprCore ~ initializeBox ~ x, y\", x, y)\n    box.move(x as any, y as any);\n\n    return box;\n  }\n\n  /**\n   * Draw visuals (border, handles, etc) for the current box.\n   */\n  redraw() {\n    // Round positional values to prevent subpixel coordinates, which can\n    // result in element that is rendered blurly\n    const width = Math.round(this.box.width()),\n      height = Math.round(this.box.height()),\n      x1 = Math.round(this.box.x1),\n      y1 = Math.round(this.box.y1),\n      x2 = Math.round(this.box.x2),\n      y2 = Math.round(this.box.y2);\n\n    window.requestAnimationFrame(() => {\n      // Update region element\n      this.regionEl.style.transform = `translate(${x1}px, ${y1}px)`;\n      this.regionEl.style.width = width + \"px\";\n      this.regionEl.style.height = height + \"px\";\n\n      // Update clipped image element\n      this.imageClippedEl.style.clip = `rect(${y1}px, ${x2}px, ${y2}px, ${x1}px)`;\n\n      // Determine which handle to bring forward. The following code\n      // calculates the quadrant the box is in using bitwise operators.\n      // Reference: https://stackoverflow.com/questions/9718059\n      const center = this.box.getAbsolutePoint([0.5, 0.5]);\n      const xSign = (center[0] - this.cropperEl.offsetWidth / 2) >> 31;\n      const ySign = (center[1] - this.cropperEl.offsetHeight / 2) >> 31;\n      const quadrant = (xSign ^ ySign) + ySign + ySign + 4;\n\n      // The following equation calculates which handle index to bring\n      // forward. The equation is derived using algebra (if youre curious)\n      const foregroundHandleIndex = -2 * quadrant + 8;\n\n      // Update handle positions\n      for (let i = 0; i < this.handles.length; i++) {\n        let handle = this.handles[i];\n\n        // Calculate handle position\n        const handleWidth = handle.el.offsetWidth;\n        const handleHeight = handle.el.offsetHeight;\n        const left = x1 + width * handle.position[0] - handleWidth / 2;\n        const top = y1 + height * handle.position[1] - handleHeight / 2;\n\n        // Apply new position. The positional values are rounded to\n        // prevent subpixel positions which can result in a blurry element\n        handle.el.style.transform = `translate(${Math.round(\n          left\n        )}px, ${Math.round(top)}px)`;\n        handle.el.style.zIndex = foregroundHandleIndex == i ? 5 : 4;\n      }\n    });\n  }\n\n  /**\n   * Attach listeners for events emitted by the handles.\n   * Enables resizing of the region element.\n   */\n  attachHandlerEvents() {\n    const eventBus = this.eventBus;\n    eventBus.addEventListener(\"handlestart\", this.onHandleMoveStart.bind(this));\n    eventBus.addEventListener(\"handlemove\", this.onHandleMoveMoving.bind(this));\n    eventBus.addEventListener(\"handleend\", this.onHandleMoveEnd.bind(this));\n  }\n\n  /**\n   * Attach event listeners for the crop region element.\n   * Enables dragging/moving of the region element.\n   */\n  attachRegionEvents() {\n    const eventBus = this.eventBus;\n    const self = this;\n\n    this.regionEl.addEventListener(\"mousedown\", onMouseDown);\n    eventBus.addEventListener(\"regionstart\", this.onRegionMoveStart.bind(this));\n    eventBus.addEventListener(\"regionmove\", this.onRegionMoveMoving.bind(this));\n    eventBus.addEventListener(\"regionend\", this.onRegionMoveEnd.bind(this));\n\n    function onMouseDown(e: any) {\n      e.stopPropagation();\n      document.addEventListener(\"mouseup\", onMouseUp);\n      document.addEventListener(\"mousemove\", onMouseMove);\n\n      // Notify parent\n      eventBus.dispatchEvent(\n        new CustomEvent(\"regionstart\", {\n          detail: { mouseX: e.clientX, mouseY: e.clientY },\n        })\n      );\n    }\n\n    function onMouseMove(e: any) {\n      e.stopPropagation();\n\n      // Notify parent\n      eventBus.dispatchEvent(\n        new CustomEvent(\"regionmove\", {\n          detail: { mouseX: e.clientX, mouseY: e.clientY },\n        })\n      );\n    }\n\n    function onMouseUp(e: any) {\n      e.stopPropagation();\n      document.removeEventListener(\"mouseup\", onMouseUp);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n\n      // Notify parent\n      eventBus.dispatchEvent(\n        new CustomEvent(\"regionend\", {\n          detail: { mouseX: e.clientX, mouseY: e.clientY },\n        })\n      );\n    }\n  }\n\n  /**\n   * Attach event listeners for the overlay element.\n   * Enables the creation of a new selection by dragging an empty area.\n   */\n  attachOverlayEvents() {\n    const SOUTHEAST_HANDLE_IDX = 4;\n    const self = this;\n    let tmpBox: any = null;\n    this.overlayEl.addEventListener(\"mousedown\", onMouseDown);\n\n    function onMouseDown(e: any) {\n      e.stopPropagation();\n      document.addEventListener(\"mouseup\", onMouseUp);\n      document.addEventListener(\"mousemove\", onMouseMove);\n\n      // Calculate mouse's position in relative to the container\n      const container = self.cropperEl.getBoundingClientRect();\n      const mouseX = e.clientX - container.left;\n      const mouseY = e.clientY - container.top;\n\n      // Create new box at mouse position\n      tmpBox = self.box;\n      self.box = new Box(mouseX, mouseY, mouseX + 1, mouseY + 1);\n\n      // Activate the bottom right handle\n      self.eventBus.dispatchEvent(\n        new CustomEvent(\"handlestart\", {\n          detail: { handle: self.handles[SOUTHEAST_HANDLE_IDX] },\n        })\n      );\n    }\n\n    function onMouseMove(e: any) {\n      e.stopPropagation();\n      self.eventBus.dispatchEvent(\n        new CustomEvent(\"handlemove\", {\n          detail: { mouseX: e.clientX, mouseY: e.clientY },\n        })\n      );\n    }\n\n    function onMouseUp(e: any) {\n      e.stopPropagation();\n      document.removeEventListener(\"mouseup\", onMouseUp);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n\n      // If the new box has no width and height, it suggests that\n      // the user had just clicked on an empty area and did not drag\n      // a new box (ie. an accidental click). In this scenario, we\n      // simply replace it with the previous box.\n      if (self.box.width() === 1 && self.box.height() === 1) {\n        self.box = tmpBox;\n        return;\n      }\n\n      self.eventBus.dispatchEvent(\n        new CustomEvent(\"handleend\", {\n          detail: { mouseX: e.clientX, mouseY: e.clientY },\n        })\n      );\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes when user begins dragging a handle.\n   */\n  onHandleMoveStart(e: any) {\n    let handle = e.detail.handle;\n\n    // The origin point is the point where the box is scaled from.\n    // This is usually the opposite side/corner of the active handle.\n    const originPoint = [1 - handle.position[0], 1 - handle.position[1]];\n    let [originX, originY] = this.box.getAbsolutePoint(originPoint);\n\n    this.activeHandle = { handle, originPoint, originX, originY };\n\n    // Trigger callback\n    if (this.options.onCropStart !== null) {\n      this.options.onCropStart(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes on handle move. Main logic to manage the movement of handles.\n   */\n  onHandleMoveMoving(e: any) {\n    let { mouseX, mouseY } = e.detail;\n\n    // Calculate mouse's position in relative to the container\n    let container = this.cropperEl.getBoundingClientRect();\n    mouseX = mouseX - container.left;\n    mouseY = mouseY - container.top;\n\n    // Ensure mouse is within the boundaries\n    if (mouseX < 0) {\n      mouseX = 0;\n    } else if (mouseX > container.width) {\n      mouseX = container.width;\n    }\n\n    if (mouseY < 0) {\n      mouseY = 0;\n    } else if (mouseY > container.height) {\n      mouseY = container.height;\n    }\n\n    // Bootstrap helper variables\n    let origin = this.activeHandle.originPoint.slice();\n    const originX = this.activeHandle.originX;\n    const originY = this.activeHandle.originY;\n    const handle = this.activeHandle.handle;\n    const TOP_MOVABLE = handle.constraints[0] === 1;\n    const RIGHT_MOVABLE = handle.constraints[1] === 1;\n    const BOTTOM_MOVABLE = handle.constraints[2] === 1;\n    const LEFT_MOVABLE = handle.constraints[3] === 1;\n    const MULTI_AXIS =\n      (LEFT_MOVABLE || RIGHT_MOVABLE) && (TOP_MOVABLE || BOTTOM_MOVABLE);\n\n    // Apply movement to respective sides according to the handle's\n    // constraint values.\n    let x1 = LEFT_MOVABLE || RIGHT_MOVABLE ? originX : this.box.x1;\n    let x2 = LEFT_MOVABLE || RIGHT_MOVABLE ? originX : this.box.x2;\n    let y1 = TOP_MOVABLE || BOTTOM_MOVABLE ? originY : this.box.y1;\n    let y2 = TOP_MOVABLE || BOTTOM_MOVABLE ? originY : this.box.y2;\n    x1 = LEFT_MOVABLE ? mouseX : x1;\n    x2 = RIGHT_MOVABLE ? mouseX : x2;\n    y1 = TOP_MOVABLE ? mouseY : y1;\n    y2 = BOTTOM_MOVABLE ? mouseY : y2;\n\n    // Check if the user dragged past the origin point. If it did,\n    // we set the flipped flag to true.\n    let [isFlippedX, isFlippedY] = [false, false];\n    if (LEFT_MOVABLE || RIGHT_MOVABLE) {\n      isFlippedX = LEFT_MOVABLE ? mouseX > originX : mouseX < originX;\n    }\n    if (TOP_MOVABLE || BOTTOM_MOVABLE) {\n      isFlippedY = TOP_MOVABLE ? mouseY > originY : mouseY < originY;\n    }\n\n    // If it is flipped, we swap the coordinates and flip the origin point.\n    if (isFlippedX) {\n      const tmp = x1;\n      x1 = x2;\n      x2 = tmp; // Swap x1 and x2\n      origin[0] = 1 - origin[0]; // Flip origin x point\n    }\n    if (isFlippedY) {\n      const tmp = y1;\n      y1 = y2;\n      y2 = tmp; // Swap y1 and y2\n      origin[1] = 1 - origin[1]; // Flip origin y point\n    }\n\n    // Create new box object\n    let box = new Box(x1, y1, x2, y2);\n\n    // Maintain aspect ratio\n    if (this.options.aspectRatio) {\n      const ratio = this.options.aspectRatio;\n      let isVerticalMovement = false;\n      if (MULTI_AXIS) {\n        isVerticalMovement =\n          mouseY > box.y1 + ratio * box.width() ||\n          mouseY < box.y2 - ratio * box.width();\n      } else if (TOP_MOVABLE || BOTTOM_MOVABLE) {\n        isVerticalMovement = true;\n      }\n      const ratioMode = isVerticalMovement ? \"width\" : \"height\";\n      box.constrainToRatio(ratio, origin, ratioMode);\n    }\n\n    // Maintain minimum/maximum size\n    const min = this.options.minSize;\n    const max = this.options.maxSize;\n    box.constrainToSize(\n      max.width,\n      max.height,\n      min.width,\n      min.height,\n      origin,\n      this.options.aspectRatio\n    );\n\n    // Constrain to boundary\n    const parentWidth = this.cropperEl.offsetWidth;\n    const parentHeight = this.cropperEl.offsetHeight;\n    box.constrainToBoundary(parentWidth, parentHeight, origin);\n\n    // Finally, update the visuals (border, handles, clipped image, etc)\n    this.box = box;\n    this.redraw();\n\n    // Trigger callback\n    if (this.options.onCropMove !== null) {\n      this.options.onCropMove(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes on handle move end.\n   */\n  onHandleMoveEnd(e: any) {\n    // Trigger callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes when user starts moving the crop region.\n   */\n  onRegionMoveStart(e: any) {\n    let { mouseX, mouseY } = e.detail;\n\n    // Calculate mouse's position in relative to the container\n    let container = this.cropperEl.getBoundingClientRect();\n    mouseX = mouseX - container.left;\n    mouseY = mouseY - container.top;\n\n    this.currentMove = {\n      offsetX: mouseX - this.box.x1,\n      offsetY: mouseY - this.box.y1,\n    };\n\n    // Trigger callback\n    if (this.options.onCropStart !== null) {\n      this.options.onCropStart(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes when user moves the crop region.\n   */\n  onRegionMoveMoving(e: any) {\n    let { mouseX, mouseY } = e.detail;\n    let { offsetX, offsetY } = this.currentMove;\n\n    // Calculate mouse's position in relative to the container\n    let container = this.cropperEl.getBoundingClientRect();\n    mouseX = mouseX - container.left;\n    mouseY = mouseY - container.top;\n\n    this.box.move(mouseX - offsetX, mouseY - offsetY);\n\n    // Ensure box is within the boundaries\n    if (this.box.x1 < 0) {\n      this.box.move(0, null);\n    }\n    if (this.box.x2 > container.width) {\n      this.box.move(container.width - this.box.width(), null);\n    }\n    if (this.box.y1 < 0) {\n      this.box.move(null, 0);\n    }\n    if (this.box.y2 > container.height) {\n      this.box.move(null, container.height - this.box.height());\n    }\n\n    // Update visuals\n    this.redraw();\n\n    // Trigger callback\n    if (this.options.onCropMove !== null) {\n      this.options.onCropMove(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes when user stops moving the crop region (mouse up).\n   */\n  onRegionMoveEnd(e: any) {\n    // Trigger callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n  }\n\n  /**\n   * Calculate the value of the crop region.\n   */\n  getValue(mode = null) {\n    if (mode === null) {\n      mode = this.options.returnMode;\n    }\n    if (mode == \"real\") {\n      const actualWidth = this.imageEl.naturalWidth;\n      const actualHeight = this.imageEl.naturalHeight;\n      const { width: elementWidth, height: elementHeight } =\n        this.imageEl.getBoundingClientRect();\n      const factorX = actualWidth / elementWidth;\n      const factorY = actualHeight / elementHeight;\n      return {\n        x: Math.round(this.box.x1 * factorX),\n        y: Math.round(this.box.y1 * factorY),\n        width: Math.round(this.box.width() * factorX),\n        height: Math.round(this.box.height() * factorY),\n      };\n    } else if (mode == \"ratio\") {\n      const { width: elementWidth, height: elementHeight } =\n        this.imageEl.getBoundingClientRect();\n      return {\n        x: round(this.box.x1 / elementWidth, 3),\n        y: round(this.box.y1 / elementHeight, 3),\n        width: round(this.box.width() / elementWidth, 3),\n        height: round(this.box.height() / elementHeight, 3),\n      };\n    } else if (mode == \"raw\") {\n      return {\n        x: Math.round(this.box.x1),\n        y: Math.round(this.box.y1),\n        width: Math.round(this.box.width()),\n        height: Math.round(this.box.height()),\n      };\n    }\n  }\n\n  /**\n   * Parse user options and set default values.\n   */\n  static parseOptions(opts: any) {\n    const defaults = {\n      aspectRatio: null,\n      maxSize: { width: null, height: null },\n      minSize: { width: null, height: null },\n      startSize: { width: 100, height: 100, unit: \"%\" },\n      returnMode: \"real\",\n      onInitialize: null,\n      onCropStart: null,\n      onCropMove: null,\n      onCropEnd: null,\n    };\n\n    // Parse aspect ratio\n    let aspectRatio = null;\n    if (opts.aspectRatio !== undefined) {\n      if (typeof opts.aspectRatio === \"number\") {\n        aspectRatio = opts.aspectRatio;\n      } else if (opts.aspectRatio instanceof Array) {\n        aspectRatio = opts.aspectRatio[1] / opts.aspectRatio[0];\n      }\n    }\n\n    // Parse max width/height\n    let maxSize = null;\n    if (opts.maxSize !== undefined && opts.maxSize !== null) {\n      maxSize = {\n        width: opts.maxSize[0] || null,\n        height: opts.maxSize[1] || null,\n        unit: opts.maxSize[2] || \"px\",\n      };\n    }\n\n    // Parse min width/height\n    let minSize = null;\n    if (opts.minSize !== undefined && opts.minSize !== null) {\n      minSize = {\n        width: opts.minSize[0] || null,\n        height: opts.minSize[1] || null,\n        unit: opts.minSize[2] || \"px\",\n      };\n    }\n\n    // Parse start size\n    let startSize = null;\n    if (opts.startSize !== undefined && opts.startSize !== null) {\n      startSize = {\n        width: opts.startSize[0] || null,\n        height: opts.startSize[1] || null,\n        unit: opts.startSize[2] || \"%\",\n      };\n    }\n\n    // Parse callbacks\n    let onInitialize = null;\n    if (typeof opts.onInitialize === \"function\") {\n      onInitialize = opts.onInitialize;\n    }\n\n    let onCropStart = null;\n    if (typeof opts.onCropStart === \"function\") {\n      onCropStart = opts.onCropStart;\n    }\n\n    let onCropEnd = null;\n    if (typeof opts.onCropEnd === \"function\") {\n      onCropEnd = opts.onCropEnd;\n    }\n\n    let onCropMove = null;\n    if (typeof opts.onUpdate === \"function\") {\n      // DEPRECATED: onUpdate is deprecated to create a more uniform\n      // callback API, such as: onCropStart, onCropMove, onCropEnd\n      console.warn(\n        \"Croppr.js: `onUpdate` is deprecated and will be removed in the next major release. Please use `onCropMove` or `onCropEnd` instead.\"\n      );\n      onCropMove = opts.onUpdate;\n    }\n    if (typeof opts.onCropMove === \"function\") {\n      onCropMove = opts.onCropMove;\n    }\n\n    // Parse returnMode value\n    let returnMode = null;\n    if (opts.returnMode !== undefined) {\n      const s = opts.returnMode.toLowerCase();\n      if ([\"real\", \"ratio\", \"raw\"].indexOf(s) === -1) {\n        throw \"Invalid return mode.\";\n      }\n      returnMode = s;\n    }\n\n    // Create function to convert % values to pixels\n    const convertToPixels = function (this: any, container: any) {\n      const width = container.offsetWidth;\n      const height = container.offsetHeight;\n\n      // Convert sizes\n      const sizeKeys = [\"maxSize\", \"minSize\", \"startSize\"];\n      for (let i = 0; i < sizeKeys.length; i++) {\n        const key = sizeKeys[i];\n        if (this[key] !== null) {\n          if (this[key].unit == \"%\") {\n            if (this[key].width !== null) {\n              this[key].width = (this[key].width / 100) * width;\n            }\n            if (this[key].height !== null) {\n              this[key].height = (this[key].height / 100) * height;\n            }\n          }\n          delete this[key].unit;\n        }\n      }\n    };\n\n    const defaultValue = (v: any, d: any) => (v !== null ? v : d);\n    return {\n      aspectRatio: defaultValue(aspectRatio, defaults.aspectRatio),\n      maxSize: defaultValue(maxSize, defaults.maxSize),\n      minSize: defaultValue(minSize, defaults.minSize),\n      startSize: defaultValue(startSize, defaults.startSize),\n      returnMode: defaultValue(returnMode, defaults.returnMode),\n      onInitialize: defaultValue(onInitialize, defaults.onInitialize),\n      onCropStart: defaultValue(onCropStart, defaults.onCropStart),\n      onCropMove: defaultValue(onCropMove, defaults.onCropMove),\n      onCropEnd: defaultValue(onCropEnd, defaults.onCropEnd),\n      convertToPixels: convertToPixels,\n    };\n  }\n}\n\n/**\n * HELPER FUNCTIONS\n */\n\nfunction round(value: any, decimals: any) {\n  return Number(Math.round((value + \"e\" + decimals) as any) + \"e-\" + decimals);\n}\n","/**\n * Croppr.js\n * https://github.com/jamesssooi/Croppr.js\n *\n * A JavaScript image cropper that's lightweight, awesome, and has\n * zero dependencies.\n *\n * (C) 2017 James Ooi. Released under the MIT License.\n */\n\nimport CropprCore from \"./core\";\n\n/**\n * This class is a wrapper for CropprCore that merely implements the main\n * interfaces for the Croppr instance. Look into CropprCore for all the\n * main logic.\n */\nexport default class Croppr extends CropprCore {\n  /**\n   * @constructor\n   * Calls the CropprCore's constructor.\n   */\n  constructor(element: any, options: any, _deferred = false) {\n    super(element, options, _deferred);\n  }\n\n  /**\n   * Gets the value of the crop region.\n   * @param {String} [mode] Which mode of calculation to use: 'real', 'ratio' or\n   *      'raw'.\n   */\n  getValue(mode?: any) {\n    return super.getValue(mode);\n  }\n\n  /**\n   * Changes the image src.\n   * @param {String} src\n   */\n  setImage(src: any) {\n    return super.setImage(src);\n  }\n\n  /**\n   * Destroys the Croppr instance\n   */\n  destroy() {\n    return super.destroy();\n  }\n\n  /**\n   * Moves the crop region to a specified coordinate.\n   * @param {Number} x\n   * @param {Number} y\n   */\n  moveTo(x: any, y: any) {\n    this.box.move(x, y);\n    this.redraw();\n\n    // Call the callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n    return this;\n  }\n\n  /**\n   * Resizes the crop region to a specified width and height.\n   * @param {Number} width\n   * @param {Number} height\n   * @param {Array} origin The origin point to resize from.\n   *      Defaults to [0.5, 0.5] (center).\n   */\n  resizeTo(width: any, height: any, origin = [0.5, 0.5]) {\n    this.box.resize(width, height, origin);\n\n    //////////////////////////////////////////////////////////////////\n    const parentWidth = this.cropperEl.offsetWidth;\n    const parentHeight = this.cropperEl.offsetHeight;\n    this.box.constrainToBoundary(parentWidth, parentHeight, [0.5, 0.5]);\n    ///////////////////////////////////////////////////////////////////\n    this.redraw();\n\n    // Call the callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n    return this;\n  }\n\n  /**\n   * Scale the crop region by a factor.\n   * @param {Number} factor\n   * @param {Array} origin The origin point to resize from.\n   *      Defaults to [0.5, 0.5] (center).\n   */\n  scaleBy(factor: any, origin = [0.5, 0.5]) {\n    this.box.scale(factor, origin);\n    this.redraw();\n\n    // Call the callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n    return this;\n  }\n\n  /**\n   * Resets the crop region to the initial settings.\n   */\n  reset(newOptions?: any) {\n    if (newOptions) {\n      this.options = { ...this.options, newOptions };\n    }\n    this.box = this.initializeBox(this.options);\n    // console.log('ðŸš€ ~ file: croppr.ts ~ line 110 ~ Croppr ~ reset ~ this.box', this.box);\n    this.redraw();\n\n    // Call the callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n    return this;\n  }\n\n  enableVisibility(state: boolean) {\n    let croppContainer: HTMLElement | any =\n      document.querySelector(\".croppr-container\");\n    if (!croppContainer) throw new Error(\"THere is not any croppr\");\n    if (state) {\n      croppContainer.style.display = \"block\";\n    } else {\n      croppContainer.style.display = \"none\";\n    }\n  }\n}\n","import React, { memo, useEffect, useRef, useState } from 'react'\nimport Croppr from '../../functions/croppr/index';\n\nimport './croppr.scss';\n\nconst CropprWrapper = memo(({ src, size, croppUpdate }:\n  {\n    src: string,\n    size: any,\n    croppUpdate: (data: { x: number; y: number; width: number; height: number }) => void\n  }) => {\n  const [imageSrc, setImageSrc] = useState<string | undefined | null>()\n  const [croppSize, setCroppSize] = useState<{ width: number; height: number }>({ width: 150, height: 150 })\n  const croppr = useRef<Croppr | undefined | null>(null);\n  const mount = useRef<HTMLImageElement | undefined | null>();\n\n  useEffect(() => {\n    if (size) {\n      setCroppSize({ ...size });\n      if (croppr.current) croppr.current.resizeTo(size.width, size.height);\n    }\n  }, [size])\n\n  useEffect(() => {\n    if (src) {\n      setImageSrc(src);\n    }\n  }, [src])\n\n  useEffect(() => {\n    if (mount.current && imageSrc) {\n      croppr.current = new Croppr('#croppr', {\n        minSize: [32, 32, 'px'],\n        startSize: [croppSize.width, croppSize.height, 'px'],\n        onInitialize: (data: Croppr | any) => {\n          croppUpdate(data?.getValue());\n        },\n        onCropEnd: (data: { x: number; y: number; width: number; height: number }) => {\n          croppUpdate(data);\n        },\n      });\n    }\n    return () => (croppr?.current?.destroy())\n  }, [mount.current, imageSrc])\n\n\n  return <div className='CropprWrapper'>\n    <img ref={mount as any} src={imageSrc as string} id=\"croppr\" />\n  </div>\n\n})\n\nexport default CropprWrapper\n","\nimport React, { memo, useState, useEffect, useRef, useMemo } from 'react';\nimport { IBasicFilterState, IState } from '../../models/index.models';\n\nimport './EditImage.scss';\nimport TabContainer, { TabItem } from '../Tab/Tab';\nimport { convertImageUsingCanvas, dragElement, saveState } from '../../functions/image-processing';\nimport Input from '../Input/Input';\nimport BasicFilter from '../BasicFilters/BasicFilter';\nimport CropprWrapper from '../CropprWrapper/CropprWrapper';\n\nexport interface EditImageProps {\n  labels: any;\n  image: string | null | undefined;\n  color: string;\n  initialState: IState,\n  saveUpdates: Function\n}\nconst _initialState: IState = {\n  quality: 92,\n  maxHeight: 1000,\n  maxWidth: 1000,\n  cropHeight: 150,\n  cropWidth: 150,\n  maintainAspectRatio: true,\n  format: 'jpeg',\n  arrayCopiedImages: [],\n  originImageSrc: '',\n}\n\nconst EditImage = memo(({ labels = {}, image = '', color = '#1e88e5', initialState = _initialState, saveUpdates = () => { } }: EditImageProps) => {\n  const [state, setState] = useState<IState>(initialState)\n  const [imageSrc, setImageSrc] = useState<string | null>('')\n  const [showCrop, setShowCrop] = useState<boolean>(false);\n  const [croppSize, setCroppSize] = useState<{ width: number; height: number }>({ width: 150, height: 150 })\n  const [croppState, setCroppState] = useState<{ x: number; y: number; width: number; height: number } | undefined | null>()\n\n  const isMobile = useRef<boolean>(false);\n  const allFormats = ['webp', 'jpeg', 'png'];\n\n  useEffect(() => {\n    isMobile.current = window.innerWidth < 800;\n    setState(JSON.parse(JSON.stringify({ ...state, ...initialState })));\n  }, [initialState])\n\n  useEffect(() => {\n    setImageSrc(image)\n  }, [image])\n\n\n  useEffect(() => {\n    if (!showCrop) {\n      setCroppSize({ width: 150, height: 150 });\n    }\n  }, [showCrop])\n\n\n  async function applyChanges(stateIntance: IState, changeHeight = false) {\n    try {\n      const { state: newState, imageUri } = await convertImageUsingCanvas(state.originImageSrc as string, changeHeight, stateIntance);\n      setImageSrc(imageUri)\n      setState(newState);\n      // console.log(\"Here\", newState);\n    } catch (error) {\n      console.log(\"ðŸš€ ~ file: EditImage.tsx ~ line 73 ~ applyChanges ~ error\", error)\n    }\n  }\n\n  async function onUpdateQuality(quality: number) {\n    quality = Math.max(Math.min(quality, 100), 1);\n    // console.log(\"ðŸš€ ~ file: EditImage.tsx ~ line 73 ~ onUpdateQuality ~ quality\", quality)\n    const newState: IState = { ...state, quality }\n    setState(newState);\n    try {\n      await applyChanges(newState, false);\n    } catch (error) {\n      console.log(\"onUpdateQuality ~ error\", error)\n    }\n  }\n\n  async function onChangeSize(value: number, changeHeight = false) {\n    let m = Math.max(Math.min(value, 4000), 32);\n    const newState: IState = { ...state }\n\n    if (changeHeight) {\n      if (newState.maxHeight === m) return;\n      newState.maxHeight = m;\n    }\n    else {\n      if (newState.maxWidth === m) return;\n      newState.maxWidth = m;\n    }\n    setState(newState);\n    try {\n      await applyChanges(newState, changeHeight);\n    } catch (error) {\n      console.log(\"onChangeSize ~ error\", error)\n    }\n  }\n\n  async function onChangeFormat(e: any) {\n    const newState: IState = { ...state, format: e.target.value }\n    try {\n      setState(newState);\n      await applyChanges(newState, false);\n    } catch (error) {\n      console.log(\"onChangeFormat ~ error\", error)\n    }\n  }\n\n\n  function onChangeCrop(width: number | null, height: number | null) {\n    if (width) {\n      setState({ ...state, cropWidth: width })\n      setCroppSize({ ...croppSize, width: width });\n    }\n    if (height) {\n      setState({ ...state, cropHeight: height })\n      setCroppSize({ ...croppSize, height: height });\n    }\n  }\n\n  function onCrop() {\n    let newState: IState = _cloneObject(state)\n    const canvas = document.createElement('canvas');\n    return new Promise((resolve, reject) => {\n      let ctx: any = canvas.getContext('2d');\n      let image = new Image();\n      image.src = imageSrc as string;\n      image.onload = () => {\n        let newWidth: any = croppState?.width;\n        let newHeight: any = croppState?.height;\n        canvas.height = newHeight;\n        canvas.width = newWidth;\n        ctx.drawImage(\n          image,\n          Math.abs(croppState?.x as any),\n          Math.abs(croppState?.y as any),\n          croppState?.width,\n          croppState?.height,\n          0,\n          0,\n          croppState?.width,\n          croppState?.height,\n        );\n        return resolve(canvas.toDataURL(`image/${newState.format}`, newState.quality));\n      };\n      image.onerror = (e) => {\n        reject(e);\n      };\n    })\n      .then((dataUri: string) => {\n        newState.maxWidth = canvas.width;\n        newState.maxHeight = canvas.height;\n        newState.originImageSrc = dataUri;\n        newState = saveState(newState, dataUri)\n        setState(newState);\n        setImageSrc(dataUri);\n        setShowCrop(false);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  function onCroppUpdate(data: { x: number; y: number; width: number; height: number }) {\n    setCroppState(data);\n    setState({ ...state, cropHeight: data.height, cropWidth: data.width });\n  }\n\n\n  function onCloseEditPanel(saveChanges: boolean = false) {\n    setShowCrop(false);\n    if (saveChanges) saveUpdates({ state: state, imageSrc: imageSrc });\n    else saveUpdates(null);\n  }\n\n  async function onRestore() {\n    try {\n      let newState: IState = _cloneObject(state);\n      if (newState.arrayCopiedImages.length > 1) {\n        newState.arrayCopiedImages.pop();\n        let newValue = newState.arrayCopiedImages[newState.arrayCopiedImages.length - 1];\n        newState = {\n          ...state,\n          arrayCopiedImages: newState.arrayCopiedImages,\n          maxHeight: newValue.height,\n          maxWidth: newValue.width,\n          quality: newValue.quality,\n          format: newValue.format,\n          originImageSrc: newValue.originImageSrc,\n          basicFilters: newValue.basicFilters as IBasicFilterState,\n        };\n        setState(newState);\n        setImageSrc(newValue.lastImage);\n      }\n    } catch (e) {\n      console.log('ðŸš€ ~ file: edit-image.component.ts ~ line 126 ~ EditImageComponent ~ onRestore ~ e', e);\n    }\n  }\n\n  async function onChangeFilters(data: IBasicFilterState) {\n    try {\n      let newState: IState = _cloneObject(state);\n      if (!newState.basicFilters) {\n        newState.basicFilters = data;\n      } else {\n        newState.basicFilters = { ...newState.basicFilters, ...data };\n      }\n      await applyChanges(newState, false);\n    } catch (e) {\n      console.log(\"ðŸš€ ~ file: EditImage.tsx ~ line 259 ~ onChangeFilters ~ e\", e)\n    }\n  }\n\n\n\n  const sizeImage = useMemo(() => {\n    if (imageSrc && imageSrc.length) {\n      return Math.ceil(((3 / 4) * imageSrc.length) / 1024);\n    } else {\n      return '';\n    }\n  }, [imageSrc])\n\n  function _cloneObject(obj: any): any {\n    return JSON.parse(JSON.stringify(obj))\n\n  }\n\n\n  return <div className=\"EditImage\">\n    <div id=\"popup\" className=\"popup\">\n      <div\n        style={{\n          flexDirection: 'row',\n          'boxSizing': 'border-box',\n          display: 'flex',\n          'placeContent': 'center flex-end',\n          'alignItems': 'center',\n          padding: '0px 16px'\n        }}>\n        <button className=\"icon-btn\" onClick={() => { onCloseEditPanel(false) }}>\n          <span className=\"material-icons\">clear</span>\n        </button>\n      </div>\n      <div className=\"image-container\">\n        <div className=\"image-holder-full\">\n          {!showCrop && <img id=\"image-full\" src={imageSrc as string} />}\n          {showCrop && <CropprWrapper src={imageSrc as string} size={croppSize} croppUpdate={onCroppUpdate} ></CropprWrapper>}\n        </div>\n\n        <div className=\"control-panel\">\n          <TabContainer lazy borderLine>\n            <TabItem name=\"Basic\">\n              {(!isMobile.current || (isMobile.current && !showCrop)) &&\n                (<React.Fragment><div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>\n                  <p className=\"item-panel\">{labels['Quality']}</p>\n                  <p className=\"item-panel\">{state.quality + '%'}</p>\n                </div>\n\n                  <div className='flex-row-start'>\n                    <Input readOnly={showCrop} disabled={showCrop}\n                      className=\"input-range\"\n                      onChangedDelayed={onUpdateQuality}\n                      onChangedValue={(value: number) => { setState({ ...state, quality: value }) }}\n                      style={{\n                        maxWidth: '100%', width: '100%', color: color\n                      }}\n                      type=\"range\"\n                      min={1}\n                      max={100}\n                      value={state.quality} />\n                  </div>\n\n                  <div className=\"item-panel\" style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>\n                    {labels['Max dimensions']}\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                      <input disabled={showCrop} readOnly={showCrop}\n                        type=\"checkbox\" checked={state.maintainAspectRatio}\n                        onChange={(e) => setState({ ...state, maintainAspectRatio: e.target.checked })}\n                        style={{ color: color }} />\n                      <span className=\"caption\">{labels['aspect-ratio']}</span>\n                    </div>\n                  </div>\n\n                  <div className='flex-row-start' style={{ marginTop: '10px', justifyContent: 'space-between' }}>\n                    <div className=\"form-field\" style={{ maxWidth: '48%', width: '48%' }}>\n                      <label>{labels['max-width(px)']}</label>\n                      <Input\n                        readOnly={showCrop}\n                        disabled={showCrop}\n                        placeholder={labels['max-width(px)']}\n                        value={state.maxWidth}\n                        onChangedValue={(value: number) => setState({ ...state, maxWidth: value })}\n                        type=\"number\"\n                        min={0}\n                        max={2000}\n                        onInputChangedEnd={(value: number) => { onChangeSize(value, false) }}\n                      />\n                    </div>\n\n\n                    <div className=\"form-field\" style={{ maxWidth: '48%', width: '48%' }}>\n                      <label>{labels['max-height(px)']}</label>\n                      <Input\n                        readOnly={showCrop}\n                        disabled={showCrop}\n                        placeholder={labels['max-height(px)']}\n                        value={state.maxHeight}\n                        onChangedValue={(value: number) => setState({ ...state, maxHeight: value })}\n                        type=\"number\"\n                        min={0}\n                        max={2000}\n                        onInputChangedEnd={(value: number) => { onChangeSize(value, true) }}\n                      />\n                    </div>\n                  </div>\n\n                  <p className=\"item-panel\">{labels['Format']}</p>\n                  <div className='flex-row-start' style={{ marginTop: '10px', justifyContent: 'space-between' }}>\n                    <div className=\"form-field\" style={{ width: '100%' }}>\n                      <select disabled={showCrop} value={state.format} onChange={onChangeFormat}>\n                        {allFormats.map((formatItem, index) => (\n                          <option key={index} value={formatItem}>{formatItem}</option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                </React.Fragment>)}\n\n              <div className='flex-row-start' style={{ marginTop: '5px', justifyContent: 'space-between' }}>\n                <span style={{ display: 'flex', alignItems: 'center' }}>\n                  <input\n                    type=\"checkbox\"\n                    onChange={(e) => { setShowCrop(e.target.checked) }}\n                    checked={showCrop}\n                    style={{ color: color, marginBottom: '3px' }}\n                  />\n                  <span className=\"item-panel\" style={{ marginLeft: '4px' }}>{labels['Crop']}</span>\n                </span>\n              </div>\n              {showCrop &&\n                <React.Fragment>\n                  <div className='flex-row-start' style={{ marginTop: '10px', justifyContent: 'space-between' }}>\n                    <div className=\"form-field\" style={{ maxWidth: '48%', width: '48%' }}>\n                      <label>{labels['width(px)']}</label>\n                      <Input type=\"number\"\n                        min={0}\n                        value={state.cropWidth}\n                        onChangedValue={(value: number) => setState({ ...state, cropWidth: value })}\n                        onInputChangedEnd={(value: number) => { onChangeCrop(+value, null) }}\n                        placeholder={labels['width(px)']} />\n                    </div>\n\n                    <div className=\"form-field\" style={{ maxWidth: '48%', width: '48%' }}>\n                      <label>{labels['height(px)']}</label>\n                      <Input type=\"number\"\n                        min={0}\n                        value={state.cropHeight}\n                        onInputChangedEnd={(value: number) => { onChangeCrop(null, +value) }}\n                        onChangedValue={(value: number) => setState({ ...state, cropHeight: value })}\n                        placeholder={labels['height(px)']} />\n                    </div>\n                  </div>\n\n                  <p style={{ marginBottom: '4px !important' }}>\n                    <button title=\"Cut the image\" className=\"icon-btn\" onClick={onCrop}>\n                      <span className=\"material-icons\"> crop </span>\n                    </button>\n                  </p>\n                </React.Fragment>\n              }\n            </TabItem>\n            <TabItem disabled={showCrop} name=\"Filters\">\n              <BasicFilter color={color} labels={labels} initialState={state.basicFilters} changeFilter={onChangeFilters}></BasicFilter>\n            </TabItem>\n          </TabContainer>\n          <button\n            title={labels['Undo']}\n            disabled={state.arrayCopiedImages.length <= 1}\n            style={{ position: 'absolute', right: '10px', top: '30px' }}\n            className=\"icon-btn\"\n            onClick={onRestore}\n          >\n            <span className=\"material-icons\"> refresh </span>\n          </button>\n          <div className='flex-row-start' style={{ marginTop: '10px', justifyContent: 'space-between', alignItems: 'center' }}>\n            <button className=\"save-btn\" onClick={() => { onCloseEditPanel(true) }}>{labels['Save']}</button>\n            {sizeImage && <p\n              className=\"caption image-caption\"\n              style={{\n                color: sizeImage > 120 ? '#f44336' : 'unset',\n                fontWeight: sizeImage > 120 ? '500' : 'unset'\n              }}\n            >\n              size: {sizeImage}Kb &nbsp; {state.format}\n            </p>\n            }\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div >\n})\n\n\nexport default EditImage\n\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { memo, useEffect, useMemo, useRef, useState } from \"react\"\nimport { ImagePickerConf, IState } from \"./models/index.models\";\nimport './styles.scss'\nimport labelEs from './i18n/es.json';\nimport labelEn from './i18n/en.json';\nimport labelFr from './i18n/fr.json';\nimport labelDe from './i18n/de.json';\nimport { convertImageUsingCanvas } from \"./functions/image-processing\";\nimport EditImage from \"./components/EditImage/EditImage\";\nexport * from './models/index.models';\n\nconst initialConfig: ImagePickerConf = {\n  language: 'en',\n  objectFit: 'cover',\n  hideDeleteBtn: false,\n  hideDownloadBtn: false,\n  hideEditBtn: false,\n  hideAddBtn: false,\n}\n\nconst ReactImagePickerEditor = memo(({ config = {}, imageSrcProp = '', color = '#1e88e5', imageChanged = () => { } }:\n  { config: ImagePickerConf, imageSrcProp?: string, color?: string; imageChanged?: Function; }) => {\n\n  const [state, setState] = useState<IState>({\n    quality: 92,\n    maxHeight: 1000,\n    maxWidth: 1000,\n    cropHeight: 150,\n    cropWidth: 150,\n    maintainAspectRatio: true,\n    format: 'jpeg',\n    arrayCopiedImages: [],\n    originImageSrc: '',\n  })\n  const [imageSrc, setImageSrc] = useState<string | null>('')\n  const [loadImage, setLoadImage] = useState<boolean>(false)\n  const [showEditPanel, setShowEditPanel] = useState<boolean>(false);\n  const [labels, setLabels] = useState<any>(labelEn);\n  const [configuration, setConfiguration] = useState<ImagePickerConf>(initialConfig)\n  const imagePicker = useRef<any>(null);\n  const fileType = useRef('')\n  const urlImage = useRef('')\n  const uuidFilePicker = Date.now().toString(20);\n  const imageName = useRef('donload');\n\n\n  useEffect(() => {\n    appendLinkIconsToHead();\n    processConfig();\n  }, [config])\n\n\n  useEffect(() => {\n    (async () => {\n      if (imageSrcProp) {\n        let result = await parseToBase64(imageSrcProp);\n        let newState: IState = result.state;\n        newState.originImageSrc = imageSrcProp;\n        newState.arrayCopiedImages.push({\n          lastImage: result.imageUri,\n          width: newState.maxWidth,\n          height: newState.maxHeight,\n          quality: newState.quality,\n          format: newState.format,\n          originImageSrc: imageSrcProp,\n        });\n        setImageSrc(result.imageUri)\n        setState(newState);\n        setLoadImage(true);\n      } else {\n        let newState = { ...state };\n        newState.originImageSrc = null;\n        newState.arrayCopiedImages = [];\n        newState = {\n          ...newState,\n          format: 'jpeg',\n          maxHeight: 1000,\n          maxWidth: 1000,\n          cropHeight: 150,\n          cropWidth: 150,\n          maintainAspectRatio: true,\n          basicFilters: undefined\n        };\n        setLoadImage(false);\n        setImageSrc(null);\n        setState(newState);\n      }\n    })()\n  }, [imageSrcProp])\n\n\n\n\n  function processConfig() {\n    let dataConf = { ...configuration, ...config };\n    setConfiguration(dataConf);\n    // console.log(\"ðŸš€ ~ file: index.tsx ~ line 52 ~ processConfig ~ dataConf\", dataConf)\n\n    if (config.language != undefined) {\n      if (config.language == 'en') {\n        setLabels({ ...labelEn });\n      }\n      if (config.language == 'es') {\n        setLabels({ ...labelEs });\n      }\n      if (config.language == 'fr') {\n        setLabels({ ...labelFr });\n      }\n      if (config.language == 'de') {\n        setLabels({ ...labelDe });\n      }\n    }\n  }\n\n  function appendLinkIconsToHead() {\n    let head: HTMLElement = document.head;\n    let linkIcons: HTMLElement | null = head.querySelector('#ngp-image-picker-icons-id');\n    if (linkIcons) return;\n    let link = document.createElement('link');\n    link.href = 'https://fonts.googleapis.com/icon?family=Material+Icons';\n    link.rel = 'stylesheet';\n    link.id = 'ngp-image-picker-icons-id';\n    head.appendChild(link);\n  }\n\n\n  function onUpload(event: any) {\n    event.preventDefault();\n    imagePicker?.current?.click();\n  }\n\n  function handleFileSelect(this: typeof handleFileSelect, event: any) {\n    const files = event.target?.files;\n    if (files) {\n      const file = files[0];\n      imageName.current = file.name.split('.')[0];\n      fileType.current = file.type;\n      if (!fileType.current.includes('image')) return;\n      urlImage.current = `data:${file.type};base64,`;\n      if (file) {\n        setState({ ...state, format: fileType.current.split('image/')[1] })\n        const reader = new FileReader();\n        reader.onload = handleReaderLoaded.bind(this);\n        reader.readAsBinaryString(file);\n      }\n    }\n  }\n\n  async function handleReaderLoaded(readerEvt: any) {\n    const binaryString = readerEvt.target.result;\n    const base64textString = btoa(binaryString);\n    let newState = { ...state };\n    let newImageSrc = urlImage.current + base64textString;\n    newState.originImageSrc = urlImage.current + base64textString;\n    if (configuration.compressInitial) {\n      newState = {\n        ...newState,\n        quality: Math.min(configuration.compressInitial || 92, 100),\n        maintainAspectRatio: true,\n        format: 'jpeg',\n      };\n      let result = await convertImageUsingCanvas(newState.originImageSrc as string, false, newState, { getDimFromImage: true });\n      setState(result.state);\n      setImageSrc(result.imageUri);\n      imageChanged(result.imageUri);\n      setLoadImage(true);\n    } else {\n      let img = document.createElement('img');\n      img.src = newImageSrc;\n      img.onload = () => {\n        newState.arrayCopiedImages = [];\n        newState.maxHeight = img.height;\n        newState.maxWidth = img.width;\n        newState.format = fileType.current.split('image/')[1];\n        newState.arrayCopiedImages.push({\n          lastImage: newImageSrc,\n          width: img.width,\n          height: img.height,\n          quality: newState.quality,\n          format: fileType.current.split('image/')[1],\n          originImageSrc: newState.originImageSrc as string,\n        });\n        setState(newState);\n        setImageSrc(newImageSrc);\n        imageChanged(newImageSrc);\n        setLoadImage(true);\n      };\n    }\n  }\n\n  const sizeImage = useMemo(() => {\n    if (imageSrc && imageSrc.length) {\n      return Math.ceil(((3 / 4) * imageSrc.length) / 1024);\n    } else {\n      return '';\n    }\n  }, [imageSrc])\n\n  function parseToBase64(imageUrl: string): Promise<{ imageUri: string; state: IState }> {\n    let newState = { ...state };\n    let types = imageUrl.split('.');\n    let type = types[types.length - 1];\n    if (type && (type == 'png' || type == 'jpeg' || type == 'webp')) {\n      type = type;\n    } else {\n      type = 'jpeg';\n    }\n    newState.format = type;\n\n    return new Promise((resolve, reject) => {\n      let img = new Image();\n      img.crossOrigin = 'Anonymous';\n      newState.maxHeight = img.height;\n      newState.maxWidth = img.width;\n\n      img.onload = () => {\n        let canvas = document.createElement('canvas');\n        let ctx: any = canvas.getContext('2d');\n        let ratio = 1.0;\n        canvas.width = img.width * ratio;\n        canvas.height = img.height * ratio;\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n        let dataURI = canvas.toDataURL(`image/${type}`, newState.quality);\n        return resolve({\n          dataUri: dataURI,\n          width: canvas.width,\n          height: canvas.height,\n        });\n      };\n      img.onerror = (e: any) => {\n        return reject(e.message || `Error loading the src = ${imageUrl}`)\n      }\n      img.src = imageUrl;\n    }).then((data: any) => {\n      newState = {\n        ...newState,\n        maxHeight: data.height,\n        maxWidth: data.width,\n      };\n      return { imageUri: data.dataUri, state: newState };\n    });\n  }\n\n  function onOpenEditPanel() {\n    setShowEditPanel(true);\n  }\n\n  function onCloseEditPanel(data: any) {\n    setShowEditPanel(false);\n    if (data) {\n      setState(data.state)\n      setImageSrc(data.imageSrc);\n      imageChanged(data.imageSrc);\n    }\n  }\n\n  function onRemove() {\n    setImageSrc(null);\n    setLoadImage(false);\n    imageChanged(null);\n    const newState: IState = {\n      ...state,\n      originImageSrc: '',\n      format: 'jpeg',\n      maxHeight: 1000,\n      maxWidth: 1000,\n      cropHeight: 150,\n      cropWidth: 150,\n      maintainAspectRatio: true,\n      arrayCopiedImages: [],\n      basicFilters: undefined,\n      quality: 92,\n    };\n    setState(newState);\n    setShowEditPanel(false)\n\n  }\n\n  return <div className=\"ReactImagePickerEditor\">\n    {!loadImage &&\n      <div className=\"place-image\">\n        <div className=\"image-holder\"\n          style={{\n            width: configuration.width,\n            height: configuration.height,\n            borderRadius: configuration.borderRadius,\n            aspectRatio: configuration.aspectRatio + '',\n          }}\n        >\n          <button title={labels['Upload a image']} className=\"icon-btn image-upload-btn\" onClick={onUpload}>\n            <span className=\"material-icons\">add_a_photo</span>\n          </button>\n\n          <input ref={imagePicker} type=\"file\" style={{ \"display\": \"none\" }} id={'filePicker-' + uuidFilePicker} onChange={handleFileSelect} />\n        </div>\n      </div >\n    }\n    {loadImage &&\n      <div className=\"place-image\">\n        <div className=\"image-holder-loaded\"\n          style={{\n            width: configuration.width,\n            height: configuration.height,\n            borderRadius: configuration.borderRadius,\n            aspectRatio: configuration.aspectRatio + '',\n          }}\n        >\n          <img\n            src={imageSrc as string}\n            alt=\"image-loaded\"\n            style={{\n              borderRadius: configuration.borderRadius,\n              objectFit: configuration.objectFit\n            }}\n          />\n          <div className=\"curtain\" onClick={onUpload}>\n            <button title={labels['Upload a image']} >\n              <span className=\"material-icons\">add_a_photo</span>\n            </button>\n          </div>\n          <input ref={imagePicker} type=\"file\" style={{ \"display\": \"none\" }} id={'filePicker-' + uuidFilePicker} onChange={handleFileSelect} />\n        </div>\n        {sizeImage &&\n          <p\n            className=\"caption image-caption\"\n            style={{\n              color: sizeImage > 120 ? '#f44336' : 'unset',\n              fontWeight: sizeImage > 120 ? '500' : 'unset'\n\n            }}\n          >\n            size: {sizeImage}Kb &nbsp; {state.format}\n          </p>}\n\n\n        <div\n          style={{\n            flexDirection: 'row', 'boxSizing': 'border-box',\n            display: 'flex',\n            'placeContent': 'flex-start',\n            'alignItems': 'flex-start'\n          }}\n          className=\"editing-bar-btn\"\n        >\n          {!configuration.hideAddBtn &&\n            <button\n              className=\"icon-btn\"\n              id=\"upload-img\"\n              title={labels['Upload a image']}\n              onClick={onUpload}\n            >\n              <span className=\"material-icons\">add_a_photo</span>\n            </button>\n          }\n\n          {!configuration.hideEditBtn &&\n            <button\n              className=\"icon-btn\"\n              id=\"edit-img\"\n              title={labels['Open the editor panel']}\n              onClick={onOpenEditPanel}\n            >\n              <span className=\"material-icons\">edit</span>\n            </button>\n          }\n          {!configuration.hideDownloadBtn &&\n            <a id=\"download-img\"\n              title={labels['Download the image']}\n              href={imageSrc as string}\n              download={imageName.current}\n            >\n              <span className=\"material-icons\">cloud_download</span>\n            </a>\n          }\n\n          {!configuration.hideDeleteBtn &&\n            <button className=\"icon-btn\" id=\"delete-img\" title={labels['Remove']} onClick={() => onRemove()} >\n              <span className=\"material-icons\">delete</span>\n            </button>\n          }\n\n        </div>\n      </div>\n    }\n    {showEditPanel &&\n      <EditImage saveUpdates={onCloseEditPanel}\n        labels={labels} color={color} image={imageSrc}\n        initialState={state}></EditImage>}\n  </div >\n})\n\nexport default ReactImagePickerEditor\n"],"names":["MAX_BUFFER_UNDO_MEMORY","convertImageUsingCanvas","dataSrc","changeHeight","state","options","Promise","resolve","_","img","document","createElement","src","crossOrigin","quality","maintainRatio","maintainAspectRatio","onload","canvas","ctx","getContext","ratio","width","height","maxWidth","maxHeight","getDimFromImage","basicFilters","filter","processFilter","drawImage","type","format","dataURI","toDataURL","dataUri","then","data","imageUri","saveState","Object","keys","map","key","includes","join","lastImage","arrayCopiedImages","length","push","originImageSrc","JSON","parse","stringify","TabContainer","memo","activeIndex","children","backgroundColor","color","indicatorStyle","onTabChange","index","transitionMs","borderLine","fontColor","lazy","useState","header","setHeader","activeTab","setActiveTab","tabContainerRef","useRef","useEffect","tabsItems","Array","checkChildrens","tabs","el","label","props","name","icon","disabled","Error","e","React","ref","className","style","borderBottom","onClick","tabEl","transform","overflow","transition","visibility","position","TabItem","padding","Input","onInputChangedEnd","onChangedDelayed","onChangedValue","delayMs","restProps","value","setState","timerRef","mountRef","flagRef","current","setTimeout","clearTimeout","changeValue","target","checked","Fragment","onChange","onBlur","onKeyDown","_initialState","contrast","blur","brightness","grayscale","invert","saturate","sepia","BasicFilter","labels","initialState","changeFilter","onUpdateContrast","onUpdateBrightness","onUpdateGrayscale","onUpdateSaturate","onUpdateSepia","onUpdateBlur","display","justifyContent","toFixed","min","max","step","lastTime","vendors","x","window","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","id","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","createEvent","initCustomEvent","prototype","Event","MouseEvent","eventType","mouseEvent","initMouseEvent","Handle","constraints","cursor","eventBus","self","addEventListener","onMouseDown","stopPropagation","onMouseUp","onMouseMove","dispatchEvent","handle","removeEventListener","mouseX","clientX","mouseY","clientY","Box","x1","y1","x2","y2","set","abs","resize","newWidth","newHeight","origin","fromX","fromY","scale","factor","move","y","getRelativePoint","point","getAbsolutePoint","constrainToRatio","grow","constrainToBoundary","boundaryWidth","boundaryHeight","originX","originY","maxIfLeft","maxIfTop","maxIfRight","maxIfBottom","directionX","directionY","constrainToSize","minWidth","minHeight","enableTouch","simulateMouseEvent","preventDefault","touch","changedTouches","eventMap","touchstart","touchmove","touchend","view","screenX","screenY","HANDLES","CropprCore","deferred","parseOptions","nodeName","querySelector","getAttribute","_initialized","_restore","parent","parentNode","initialize","createDOM","convertToPixels","cropperEl","attachHandlerEvents","attachRegionEvents","attachOverlayEvents","box","initializeBox","redraw","onInitialize","targetEl","containerEl","imageEl","setAttribute","imageClippedEl","cloneNode","regionEl","innerHTML","fill","overlayEl","handleContainerEl","handles","i","appendChild","parentElement","replaceChild","setImage","destroy","opts","startSize","aspectRatio","minSize","maxSize","parentWidth","offsetWidth","parentHeight","offsetHeight","round","clip","center","xSign","ySign","quadrant","foregroundHandleIndex","handleWidth","handleHeight","left","top","zIndex","onHandleMoveStart","bind","onHandleMoveMoving","onHandleMoveEnd","onRegionMoveStart","onRegionMoveMoving","onRegionMoveEnd","SOUTHEAST_HANDLE_IDX","tmpBox","container","getBoundingClientRect","originPoint","activeHandle","onCropStart","getValue","slice","TOP_MOVABLE","RIGHT_MOVABLE","BOTTOM_MOVABLE","LEFT_MOVABLE","MULTI_AXIS","isFlippedX","isFlippedY","tmp","isVerticalMovement","ratioMode","onCropMove","onCropEnd","currentMove","offsetX","offsetY","mode","returnMode","actualWidth","naturalWidth","actualHeight","naturalHeight","elementWidth","elementHeight","factorX","factorY","defaults","unit","onUpdate","console","warn","s","toLowerCase","indexOf","sizeKeys","defaultValue","v","d","decimals","Number","Croppr","_deferred","moveTo","resizeTo","scaleBy","reset","newOptions","enableVisibility","croppContainer","CropprWrapper","size","croppUpdate","imageSrc","setImageSrc","croppSize","setCroppSize","croppr","mount","cropHeight","cropWidth","EditImage","onChangeFilters","newState","_cloneObject","applyChanges","log","onRestore","pop","newValue","onChangeFormat","error","onChangeSize","m","onUpdateQuality","stateIntance","image","saveUpdates","showCrop","setShowCrop","croppState","setCroppState","isMobile","allFormats","innerWidth","onChangeCrop","onCrop","reject","Image","onerror","onCroppUpdate","onCloseEditPanel","saveChanges","sizeImage","useMemo","ceil","obj","flexDirection","readOnly","alignItems","marginTop","placeholder","formatItem","marginBottom","marginLeft","title","right","fontWeight","initialConfig","language","objectFit","hideDeleteBtn","hideDownloadBtn","hideEditBtn","hideAddBtn","ReactImagePickerEditor","handleReaderLoaded","readerEvt","binaryString","result","base64textString","btoa","newImageSrc","urlImage","configuration","compressInitial","imageChanged","setLoadImage","fileType","split","config","imageSrcProp","loadImage","showEditPanel","setShowEditPanel","labelEn","setLabels","setConfiguration","imagePicker","uuidFilePicker","now","toString","imageName","appendLinkIconsToHead","processConfig","parseToBase64","dataConf","labelEs","labelFr","labelDe","head","linkIcons","link","href","rel","onUpload","click","handleFileSelect","files","file","reader","FileReader","readAsBinaryString","imageUrl","types","message","onOpenEditPanel","onRemove","borderRadius","alt","download"],"mappings":"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"}