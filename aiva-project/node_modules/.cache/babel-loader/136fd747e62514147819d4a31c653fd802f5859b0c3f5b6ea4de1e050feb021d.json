{"ast":null,"code":"var _jsxFileName = \"E:\\\\Front End\\\\React\\\\Aiva Project\\\\aiva-project\\\\src\\\\Components\\\\Profile\\\\Post\\\\CreatePost.tsx\",\n  _s = $RefreshSig$();\nimport classNames from 'classnames';\nimport React, { useEffect, useState } from 'react';\nimport ReactImagePickerEditor from 'react-image-picker-editor';\nimport 'react-image-picker-editor/dist/index.css';\nimport Discard from './Discard';\nimport httpClient from '../../../httpClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CreatePost(props) {\n  _s();\n  const [imageSrc, setImageSrc] = useState(\"\");\n  const [discard, setDiscard] = useState(false);\n  const [photoSelected, setPhotoSelected] = useState(false);\n  const [backArrow, setBackArrow] = useState(false);\n  const [profileData, setProfileData] = useState({\n    username: \"\",\n    image: \"\"\n  });\n  useEffect(() => {\n    (async () => {\n      try {\n        const resp = await httpClient.get('/@me');\n        setProfileData({\n          username: resp.data.username,\n          image: \"\"\n        });\n      } catch {\n        alert(\"Something went wrong with the server\");\n      }\n    })();\n  }, []);\n  const config = {\n    borderRadius: '8px',\n    language: 'en',\n    width: '800px',\n    height: '600px',\n    objectFit: 'contain',\n    compressInitial: null,\n    hideDownloadBtn: true,\n    hideAddBtn: true\n  };\n  const handleBack = () => {\n    setPhotoSelected(false);\n  };\n  const changeImgSrc = () => {\n    setImageSrc(\"\");\n  };\n  const toggleBackArrow = () => {\n    setBackArrow(false);\n  };\n  const toggleDiscard = () => {\n    setDiscard(prevDiscard => !prevDiscard);\n  };\n  const initialImage = \"\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-post\",\n      tabIndex: 0,\n      onKeyDown: event => event.key === 'Escape' ? imageSrc ? setDiscard(true) : props.togglePost() : \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-photo\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Create new post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close close-white\",\n          onClick: () => imageSrc ? setDiscard(true) : props.togglePost(),\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames('upload-main', {\n            'photo-selected': photoSelected\n          }),\n          children: [photoSelected && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-arrow-left\",\n            onClick: () => {\n              setBackArrow(true);\n              setDiscard(true);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 30\n          }, this), imageSrc && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"select-photo\",\n            onClick: () => setPhotoSelected(true),\n            children: photoSelected ? 'Share' : 'Next'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), !photoSelected && /*#__PURE__*/_jsxDEV(ReactImagePickerEditor, {\n            imageSrcProp: initialImage,\n            config: config,\n            imageChanged: newDataUri => {\n              setImageSrc(newDataUri);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 32\n          }, this), photoSelected && /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"selected-image\",\n            src: imageSrc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), discard && /*#__PURE__*/_jsxDEV(Discard, {\n            togglePost: props.togglePost,\n            discard: discard,\n            toggleDiscard: toggleDiscard,\n            backArrow: backArrow,\n            toggleBackArrow: toggleBackArrow,\n            handleBack: handleBack,\n            changeImgSrc: changeImgSrc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), photoSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"vl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 31\n          }, this), photoSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-description\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"Write a caption...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"black-screen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(CreatePost, \"kucOroFh27xADjcsUeQ7AFDkZGA=\");\n_c = CreatePost;\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"names":["classNames","React","useEffect","useState","ReactImagePickerEditor","Discard","httpClient","CreatePost","props","imageSrc","setImageSrc","discard","setDiscard","photoSelected","setPhotoSelected","backArrow","setBackArrow","profileData","setProfileData","username","image","resp","get","data","alert","config","borderRadius","language","width","height","objectFit","compressInitial","hideDownloadBtn","hideAddBtn","handleBack","changeImgSrc","toggleBackArrow","toggleDiscard","prevDiscard","initialImage","event","key","togglePost","newDataUri"],"sources":["E:/Front End/React/Aiva Project/aiva-project/src/Components/Profile/Post/CreatePost.tsx"],"sourcesContent":["\r\nimport { width } from '@mui/system';\r\nimport classNames from 'classnames';\r\nimport React, { useEffect, useState } from 'react'\r\nimport ReactImagePickerEditor, { ImagePickerConf } from 'react-image-picker-editor';\r\nimport 'react-image-picker-editor/dist/index.css'\r\nimport Discard from './Discard';\r\nimport httpClient from '../../../httpClient';\r\n\r\nexport default function CreatePost(props) {\r\n\r\n  const [imageSrc,setImageSrc] = useState(\"\")\r\n  const [discard,setDiscard] = useState(false)\r\n  const [photoSelected,setPhotoSelected] = useState(false)\r\n  const [backArrow,setBackArrow] = useState(false)\r\n  const [profileData,setProfileData] = useState({\r\n    username:\"\",\r\n    image:\"\"\r\n  })\r\n  \r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const resp = await httpClient.get('/@me')\r\n        setProfileData({\r\n          username: resp.data.username,\r\n          image: \"\"\r\n        })\r\n      }\r\n      catch {\r\n        alert(\"Something went wrong with the server\")\r\n      }   \r\n    })() \r\n  }, [])\r\n  const config: ImagePickerConf = {\r\n    borderRadius : '8px',\r\n    language : 'en',\r\n    width : '800px',\r\n    height: '600px',\r\n    objectFit: 'contain',\r\n    compressInitial: null,\r\n    hideDownloadBtn: true,\r\n    hideAddBtn: true,\r\n    \r\n  }\r\n  const handleBack = () => {\r\n    setPhotoSelected(false)\r\n  }\r\n\r\n  const changeImgSrc = () => {\r\n    setImageSrc(\"\")\r\n  }\r\n  const toggleBackArrow = () => {\r\n    setBackArrow(false)\r\n  }\r\n  const toggleDiscard = () => {\r\n    setDiscard(prevDiscard => !prevDiscard)\r\n  }\r\n  const initialImage = \"\"\r\n\r\n  return (\r\n    <>\r\n      \r\n      <div className='create-post' tabIndex={0} onKeyDown = {(event) => event.key === 'Escape' ? imageSrc ? setDiscard(true) : props.togglePost() : \"\"}>\r\n        <div className='upload-photo'>\r\n          <h3>Create new post</h3>\r\n          <hr></hr>\r\n          <button className='close close-white' onClick={() => imageSrc ? setDiscard(true) : props.togglePost() }>âœ–</button>\r\n          \r\n          <div className={classNames('upload-main',{'photo-selected':photoSelected})}>\r\n           {photoSelected && <i \r\n            className =\"fa-solid fa-arrow-left\"\r\n            onClick={() => {\r\n              setBackArrow(true)\r\n              setDiscard(true)\r\n            }}\r\n           ></i>}\r\n           {imageSrc && <button className='select-photo' onClick={() => setPhotoSelected(true)}>{photoSelected ? 'Share' : 'Next'}</button>}\r\n            {!photoSelected && < ReactImagePickerEditor\r\n              imageSrcProp={initialImage}\r\n              config={config}\r\n              imageChanged={(newDataUri: any) => { setImageSrc(newDataUri) }} \r\n            /> }\r\n            \r\n            {photoSelected && \r\n              <img\r\n                className='selected-image'\r\n                src = {imageSrc}/> \r\n            }\r\n            {discard && <Discard\r\n              togglePost = {props.togglePost}\r\n              discard = {discard} \r\n              toggleDiscard = {toggleDiscard}\r\n              backArrow = {backArrow}\r\n              toggleBackArrow = {toggleBackArrow}\r\n              handleBack = {handleBack}\r\n              changeImgSrc = {changeImgSrc}\r\n            />}\r\n            {photoSelected && <div className='vl'></div>} \r\n            {photoSelected && <div className='post-description'>\r\n              <textarea \r\n                placeholder='Write a caption...'\r\n              />\r\n            </div> }\r\n          </div>\r\n          \r\n        </div>\r\n        <div className='black-screen'></div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}